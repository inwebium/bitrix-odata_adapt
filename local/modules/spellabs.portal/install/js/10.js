(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{bL1X:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),i=function(){},s=t("pMnS"),o=t("vQGG"),u=t("xhmP"),a=t("PbJ5"),r=t("C2Hq"),c=t("ukqQ"),h=t("Ip0R"),p=t("ZYCi"),d=t("nAuW"),g=t("cuj7"),b=t("wd/R"),m=t("LvDl"),y=t("aCgD"),_=t("IS4z"),f=function(){function n(n,l,t){var e=this;this.route=n,this.employeesService=l,this.sidebarService=t,this.pages=[],this.index=0,this.employees=[],this.birthdays=[],this.hasPrev=!1,this.hasNext=!1,this.quater=Math.floor((new Date).getMonth()/3),this.month=(new Date).getMonth()-3*this.quater,this.months=Array.apply(0,Array(3)).map(function(n,l){return b().month(l+3*e.quater).format("MMMM")}),this.sidebarService.handleSetSettings({showSidebar:!1,bgColor:"#fff"})}return n.prototype.ngOnInit=function(){this.pages.push(this.route.snapshot.data.newEmployees),this.employees=this.route.snapshot.data.newEmployees.items,this.birthdays=this.getBirthdaysForEmployees(this.employees),this.hasNext=this.route.snapshot.data.newEmployees.hasNext},n.prototype.getMonthFirstDay=function(n){return b(new Date((new Date).getFullYear(),n,1))},n.prototype.getMonthLastDay=function(n){return b(new Date((new Date).getFullYear(),n,1)).endOf("month")},n.prototype.getBirthdaysPagetByMonth=function(n){var l=this;this.month=null==n?this.month:n,this.index=0,this.employees=[],this.pages=[],this.birthdays=[],this.hasPrev=!1,this.hasNext=!1;var t=this.getMonthFirstDay(this.month+3*this.quater).toISOString(),e=this.getMonthLastDay(this.month+3*this.quater).toISOString();this.employeesService.getItemsPaged({filter:"(slStartWorkDate ge datetime'"+t+"') and (slStartWorkDate le datetime'"+e+"')",orderBy:[["slStartWorkDate",!1]]}).subscribe(function(n){l.employees=n.items,l.birthdays=l.getBirthdaysForEmployees(l.employees),l.hasNext=n.hasNext,l.pages.push(n)})},n.prototype.getNext=function(){var n=this;this.hasNext&&(this.index===this.pages.length-1?this.pages[this.index].getNext().subscribe(function(l){n.index++,n.employees=l.items,n.birthdays=n.getBirthdaysForEmployees(l.items),n.hasNext=l.hasNext,n.hasPrev=!0,n.pages.push(l)}):(this.index++,this.employees=this.pages[this.index].items,this.birthdays=this.getBirthdaysForEmployees(this.employees),this.hasNext=this.pages[this.index].hasNext,this.hasPrev=!0))},n.prototype.getPrev=function(){this.hasPrev&&(this.index--,this.employees=this.pages[this.index].items,this.birthdays=this.getBirthdaysForEmployees(this.employees),this.hasNext=!0,this.hasPrev=this.index>0)},n.prototype.getBirthdaysForEmployees=function(n){var l=[],t=m.groupBy(n,function(n){return n.startdayTitleRelative});for(var e in t)if(t.hasOwnProperty(e)){var i=e.split(" ");2===i.length&&l.push({birthday:i[0],birthmonth:i[1],employees:t[e]})}return l},n}(),M=e.qb({encapsulation:0,styles:[["#s4-bodyContainer[_ngcontent-%COMP%]{padding:0}@-webkit-keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}@keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}.l-birthdays[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:25px}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__month-list[_ngcontent-%COMP%]{box-sizing:border-box;margin-bottom:60px;height:30px;text-align:center}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]{border-left:2px solid #fafafa}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:10%;position:relative;border-top:2px dotted #898888}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:absolute;left:-27px;top:-27px}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%], .l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{background-color:#fafafa;border-radius:100%;width:50px;height:50px;line-height:50px;color:#050505;font-size:20px;font-weight:900;box-sizing:border-box;text-align:center}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]{color:#404041;font-size:16px;padding-right:15px;box-sizing:border-box;padding-left:12px;background-color:#fff;text-transform:capitalize}.l-birthdays[_ngcontent-%COMP%]   .l-birthdays__calendar[_ngcontent-%COMP%]   .l-birthdays__day[_ngcontent-%COMP%]:first-of-type{border-top:0}.navigation[_ngcontent-%COMP%]{margin:35px 0;text-align:center}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]{display:table;width:100%}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{display:table-cell;box-sizing:border-box;vertical-align:middle;width:90px;padding:14px 23px 14px 34px}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{vertical-align:middle;display:table-cell}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#050505;font-size:22px;line-height:24px}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{color:#050505;font-size:16px;line-height:20px}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:none;box-sizing:border-box;padding-left:25px;vertical-align:middle}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%], .m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%], .m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .structure[_ngcontent-%COMP%]{display:inline-block;border-radius:100%;background-color:#fff;width:50px;height:50px;margin-right:25px;background-position:center;background-repeat:no-repeat;background-size:26px 26px}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .profile[_ngcontent-%COMP%]{background-image:url(/assets/icons/icon-profile.svg)}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .mail[_ngcontent-%COMP%]{background-image:url(/assets/icons/icon-letter-black.svg)}.m-employees-list[_ngcontent-%COMP%]   .m-employees-list__item[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .structure[_ngcontent-%COMP%]{background-image:url(/assets/icons/icon-struct-black.svg)}"]],data:{}});function P(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"app-filters-item",[],null,[[null,"change"]],function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.getBirthdaysPagetByMonth(n.context.index)&&e),e},o.b,o.a)),e.rb(1,114688,[[1,4]],0,u.a,[a.a],{active:[0,"active"]},{change:"change"}),(n()(),e.Kb(2,0,[" "," "]))],function(n,l){n(l,1,0,l.component.month===l.context.index)},function(n,l){n(l,2,0,l.context.$implicit)})}function x(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,8,"div",[["class","m-employees-list__item"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,2,"div",[["class","avatar"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,1,"app-user-thumb",[],null,null,null,r.b,r.a)),e.rb(3,245760,null,0,c.a,[h.c,e.B],{photo:[0,"photo"],width:[1,"width"],height:[2,"height"],route:[3,"route"]},null),(n()(),e.sb(4,0,null,null,4,"div",[["class","body"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(n()(),e.Kb(6,null,[" "," "])),(n()(),e.sb(7,0,null,null,1,"div",[["class","position"]],null,null,null,null,null)),(n()(),e.Kb(8,null,["",""]))],function(n,l){n(l,3,0,l.context.$implicit.photo,"90px","90px",l.context.$implicit.profileRoute)},function(n,l){n(l,6,0,l.context.$implicit.fullName),n(l,8,0,l.context.$implicit.positionName)})}function O(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,9,"div",[["class","l-birthdays__day"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,4,"div",[["class","date"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,1,"div",[["class","day"]],null,null,null,null,null)),(n()(),e.Kb(3,null,["",""])),(n()(),e.sb(4,0,null,null,1,"div",[["class","month"]],null,null,null,null,null)),(n()(),e.Kb(5,null,["",""])),(n()(),e.sb(6,0,null,null,3,"div",[["class","employees"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,2,"div",[["class","m-employees-list"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,x)),e.rb(9,278528,null,0,h.j,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,9,0,l.context.$implicit.employees)},function(n,l){n(l,3,0,l.context.$implicit.birthday),n(l,5,0,l.context.$implicit.birthmonth)})}function C(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,5,"div",[["class","navigation"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,4,"div",[["class","m-page-nav"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,1,"a",[["class","to-begin"]],[[2,"disabled",null]],[[null,"click"]],function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==(i.hasPrev&&i.getBirthdaysPagetByMonth())&&e),e},null,null)),(n()(),e.Kb(-1,null,["\u0412 \u043d\u0430\u0447\u0430\u043b\u043e"])),(n()(),e.sb(4,0,null,null,0,"input",[["class","prev-page"],["type","button"]],[[2,"disabled",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.getPrev()&&e),e},null,null)),(n()(),e.sb(5,0,null,null,0,"input",[["class","next-page"],["type","button"]],[[2,"disabled",null]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.getNext()&&e),e},null,null))],null,function(n,l){var t=l.component;n(l,2,0,!t.hasPrev),n(l,4,0,!t.hasPrev),n(l,5,0,!t.hasNext)})}function v(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,10,"div",[["class","l-page-header"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,7,"div",[["class","l-breadcrumbs"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),e.sb(3,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Cb(n,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i},null,null)),e.rb(4,671744,null,0,p.o,[p.m,p.a,h.h],{routerLink:[0,"routerLink"]},null),e.Db(5,1),(n()(),e.Kb(-1,null,["\u0413\u043b\u0430\u0432\u043d\u0430\u044f"])),(n()(),e.sb(7,0,null,null,1,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"])),(n()(),e.sb(9,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"])),(n()(),e.sb(11,0,null,null,14,"div",[["class","l-page"]],null,null,null,null,null)),(n()(),e.sb(12,0,null,null,13,"div",[["class","l-page-inner"]],null,null,null,null,null)),(n()(),e.sb(13,0,null,null,12,"div",[["class","l-page__content"]],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,11,"div",[["class","l-birthdays"]],null,null,null,null,null)),(n()(),e.sb(15,0,null,null,5,"div",[["class","l-birthdays__month-list"]],null,null,null,null,null)),(n()(),e.sb(16,0,null,null,4,"app-filters",[],null,null,null,d.b,d.a)),e.rb(17,1228800,null,1,g.a,[a.a],null,null),e.Ib(603979776,1,{filterItems:1}),(n()(),e.jb(16777216,null,0,1,null,P)),e.rb(20,278528,null,0,h.j,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null),(n()(),e.sb(21,0,null,null,2,"div",[["class","l-birthdays__calendar"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,O)),e.rb(23,278528,null,0,h.j,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null),(n()(),e.jb(16777216,null,null,1,null,C)),e.rb(25,16384,null,0,h.k,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,4,0,n(l,5,0,"/company")),n(l,20,0,t.months),n(l,23,0,t.birthdays),n(l,25,0,t.hasPrev||t.hasNext)},function(n,l){n(l,3,0,e.Cb(l,4).target,e.Cb(l,4).href)})}var k=e.ob("app-new-employees-page",f,function(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-new-employees-page",[],null,null,null,v,M)),e.rb(1,114688,null,0,f,[p.a,y.a,_.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),w=function(){function n(n){this.employeesService=n}return n.prototype.resolve=function(n,l){var t=b().startOf("month").toISOString();return this.employeesService.getItemsPaged({filter:"slStartWorkDate ge datetime'"+t+"'",orderBy:[["slStartWorkDate",!1]]})},n}(),N=t("gIcY"),S={animation:"fadeAnimation",title:"\u041d\u043e\u0432\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438"},D=function(){},F=t("PCNd");t.d(l,"NewEmployeesModuleNgFactory",function(){return z});var z=e.pb(i,[],function(n){return e.zb([e.Ab(512,e.k,e.eb,[[8,[s.a,k]],[3,e.k],e.z]),e.Ab(4608,h.m,h.l,[e.w,[2,h.y]]),e.Ab(4608,w,w,[y.a]),e.Ab(4608,N.p,N.p,[]),e.Ab(1073742336,h.b,h.b,[]),e.Ab(1073742336,p.p,p.p,[[2,p.v],[2,p.m]]),e.Ab(1073742336,D,D,[]),e.Ab(1073742336,N.n,N.n,[]),e.Ab(1073742336,N.d,N.d,[]),e.Ab(1073742336,F.a,F.a,[]),e.Ab(1073742336,i,i,[]),e.Ab(1024,p.k,function(){return[[{path:"",component:f,resolve:{newEmployees:w},data:S}]]},[])])})}}]);