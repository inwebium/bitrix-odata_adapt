{"version":3,"sources":["webpack:///./src/app/questions/components/questions-page/questions-page.component.html","webpack:///./src/app/questions/components/questions-page/questions-page.component.scss","webpack:///./src/app/questions/components/questions-page/questions-page.component.ts","webpack:///./src/app/questions/components/questions-page/questions.service.ts","webpack:///./src/app/questions/questions-routing.module.ts","webpack:///./src/app/questions/questions.module.ts"],"names":[],"mappings":"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","file":"questions-questions-module.js","sourcesContent":["module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"['/company']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\">Вопросы и предложения</div>\\n  </div>\\n  <div class=\\\"title\\\">Вопросы и предложения</div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-questions\\\">\\n        <div class=\\\"header\\\">\\n          <div class=\\\"text\\\">\\n            Если на этой странице Вы не нашли ответ на свой вопрос, адресуйте его нашему\\n            сотруднику, и мы постараемся ответить, как можно скорее\\n          </div>\\n          <div class=\\\"control\\\">\\n            <input\\n              type=\\\"button\\\"\\n              class=\\\"btn btn-default\\\"\\n              value=\\\"Написать\\\"\\n              (click)=\\\"feedbackService.toggleModal()\\\"\\n            />\\n          </div>\\n        </div>\\n        <table class=\\\"table\\\">\\n          <thead>\\n            <tr>\\n              <th>Вопрос</th>\\n              <th>Дата создания</th>\\n            </tr>\\n          </thead>\\n          <tbody>\\n            <tr\\n              (click)=\\\"toggleQuestion(questionItem, $event)\\\"\\n              #questionItem\\n              *ngFor=\\\"let item of questionList\\\"\\n            >\\n              <td>\\n                <div class=\\\"admin-controls\\\">\\n                  <app-admin-controls (click)=\\\"$event.stopPropagation();\\\"></app-admin-controls>\\n                </div>\\n                <div class=\\\"question\\\" [innerHTML]=\\\"item.question\\\"></div>\\n                <div class=\\\"answer\\\">\\n                  <div class=\\\"text\\\">\\n                    <app-html-container [innerHTML]=\\\"item.answer\\\"></app-html-container>\\n                  </div>\\n                  <div class=\\\"collapse\\\">\\n                    <span>Свернуть</span>\\n                  </div>\\n                </div>\\n              </td>\\n              <td>{{ item.date }}</td>\\n            </tr>\\n          </tbody>\\n        </table>\\n\\n        <div class=\\\"navigation\\\">\\n          <div class=\\\"m-page-nav\\\" *ngIf=\\\"itemsLength > 15\\\">\\n            <a class=\\\"to-begin\\\" (click)=\\\"start(hasPrev)\\\" [class.disabled]=\\\"!hasPrev\\\">\\n              В начало\\n            </a>\\n            <input\\n              type=\\\"button\\\"\\n              class=\\\"prev-page\\\"\\n              (click)=\\\"prev()\\\"\\n              [class.disabled]=\\\"!hasPrev\\\"\\n            />\\n            <input\\n              type=\\\"button\\\"\\n              class=\\\"next-page\\\"\\n              (click)=\\\"next()\\\"\\n              [class.disabled]=\\\"!hasNext\\\"\\n            />\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \".navigation {\\n  text-align: center;\\n  margin: 25px 0; }\\n\\n.collapse {\\n  text-align: right; }\\n\\n.collapse span {\\n    display: inline-block;\\n    vertical-align: top;\\n    color: #dd1e25;\\n    text-decoration: underline; }\\n\\n.header {\\n  padding: 10px 15px;\\n  padding-right: 200px;\\n  box-sizing: border-box;\\n  position: relative;\\n  margin-bottom: 25px; }\\n\\n.header .text {\\n    color: #898888;\\n    font-size: 18px; }\\n\\n.header .control {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    width: 200px;\\n    text-align: center; }\\n\\n.table {\\n  table-layout: fixed;\\n  border-collapse: collapse;\\n  width: 100%; }\\n\\n.table tr:hover td {\\n    background-color: #F7F7F7;\\n    cursor: pointer; }\\n\\n.table tr th, .table tr td {\\n    box-sizing: border-box;\\n    padding: 10px 15px;\\n    line-height: 30px; }\\n\\n.table tr.is-expanded td .answer {\\n    display: block; }\\n\\n.table tr th {\\n    border-bottom: 1px solid #707070;\\n    text-align: left;\\n    color: #898888;\\n    font-size: 18px; }\\n\\n.table tr th:last-child {\\n      width: 150px;\\n      text-align: center; }\\n\\n.table tr td {\\n    vertical-align: middle;\\n    position: relative; }\\n\\n.table tr td:last-child {\\n      vertical-align: top;\\n      text-align: center; }\\n\\n.table tr td .question {\\n      display: inline-block;\\n      vertical-align: top;\\n      color: #050505;\\n      font-size: 18px;\\n      line-height: 30px; }\\n\\n.table tr td .answer {\\n      display: none;\\n      font-size: 16px;\\n      line-height: 25px;\\n      box-sizing: border-box;\\n      position: relative;\\n      padding: 20px 60px;\\n      margin-bottom: 10px; }\\n\\n.table tr td .answer .text img {\\n        max-width: 100%; }\\n\"","import {\n  Component,\n  OnInit,\n  ViewChildren,\n  QueryList,\n  ElementRef\n} from '@angular/core';\nimport { QuestionsService } from './questions.service';\nimport { Questions } from './questions';\n\nimport { FeedbackService } from 'src/app/services/feedback/feedback.service';\n\n@Component({\n  selector: 'app-questions-page',\n  templateUrl: './questions-page.component.html',\n  styleUrls: ['./questions-page.component.scss']\n})\nexport class QuestionsPageComponent implements OnInit {\n  @ViewChildren('questionItem', { read: ElementRef })\n  employeeCardElements: QueryList<ElementRef>;\n  public itemsLength = 0;\n  public hasNext: boolean = null;\n  public hasPrev: boolean = null;\n\n  questionList: Questions[] = [];\n\n  constructor(\n    private questionsService: QuestionsService,\n    public feedbackService: FeedbackService\n  ) {}\n\n  toggleQuestion(question: HTMLElement, event) {\n    event.stopPropagation();\n    question.classList.toggle('is-expanded');\n  }\n\n  fetchQuestionList() {\n    this.questionsService.getQuestionList().then((list: Questions[]) => {\n      this.questionList = list;\n      this.updatePagination();\n    });\n  }\n\n  public next() {\n    this.questionsService.next().then((list: Questions[]) => {\n      this.questionList = list;\n      this.updatePagination();\n    });\n  }\n\n  public prev() {\n    this.questionsService.prev().then((list: Questions[]) => {\n      this.questionList = list;\n      this.updatePagination();\n    });\n  }\n\n  public start(canStart: boolean) {\n    if (canStart) {\n      this.questionsService.getQuestionList().then((list: Questions[]) => {\n        this.questionList = list;\n        this.updatePagination();\n      });\n    }\n  }\n\n  private updatePagination() {\n    this.hasNext = this.questionsService.hasNext();\n    this.hasPrev = this.questionsService.hasPrev();\n  }\n\n  public getItemsLength() {\n    this.questionsService.getItemsLength().then((length: number) => {\n      this.itemsLength = length;\n    });\n  }\n\n  ngOnInit() {\n    this.getItemsLength();\n    this.fetchQuestionList();\n    this.getItemsLength();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Questions } from './questions';\nimport * as moment from 'moment';\nimport { sp, PagedItemCollection } from '@pnp/sp';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class QuestionsService {\n  private listTitle = 'Вопросы и предложения';\n  public questionList: Questions[] = [];\n\n  // tslint:disable:no-inferrable-types\n  private question: string = 'slQuestion';\n  private answer: string = 'slAnswer';\n  private order: string = 'slIndex';\n\n  public pagedCollection: PagedItemCollection<any[]>;\n  private pageSize: number = 15;\n  private pageIndex: number = 0;\n\n  public getQuestionList() {\n    this.pageIndex = 0;\n    return new Promise((resolve, reject) => {\n      sp.web.lists\n        .getByTitle(this.listTitle)\n        .items.select(\n          'Title',\n          'Id',\n          'Created',\n          this.question,\n          this.order,\n          this.answer\n        )\n        .skip(0)\n        .top(this.pageSize)\n        .orderBy('Created', false)\n        .getPaged()\n        .then(list => {\n          this.getQuestionListItems(list);\n          resolve(this.questionList);\n        });\n    });\n  }\n\n  public getQuestionListItems(list: PagedItemCollection<any[]>) {\n    this.questionList = [];\n    this.pagedCollection = list;\n    const results: any[] = list.results;\n\n    for (const item of results) {\n      this.questionList.push({\n        id: item.Id,\n        question: item.slQuestion,\n        answer: item.slAnswer,\n        order: item.slIndexNumber,\n        date: moment(item.Created).calendar()\n      });\n    }\n  }\n\n  public async getItemsLength() {\n    return new Promise((resolve, reject) => {\n      sp.web.lists\n        .getByTitle(this.listTitle)\n        .items.getAll()\n        .then((items: any[]) => {\n          resolve(items.length);\n        });\n    });\n  }\n\n  public next() {\n    return new Promise((resolve, reject) => {\n      if (this.pagedCollection.hasNext) {\n        this.pagedCollection.getNext().then(res => {\n          this.getQuestionListItems(res);\n          this.pageIndex++;\n          resolve(this.questionList);\n        });\n      }\n    });\n  }\n\n  public prev() {\n    return new Promise((resolve, reject) => {\n      if (this.pageIndex > 0) {\n        sp.web.lists\n          .getByTitle(this.listTitle)\n          .items.select(\n            'Title',\n            'Id',\n            'Created',\n            this.question,\n            this.order,\n            this.answer\n          )\n          .skip(--this.pageIndex * this.pageSize)\n          .top(this.pageSize)\n          .orderBy('Created', false)\n          .getPaged()\n          .then(list => {\n            this.getQuestionListItems(list);\n            resolve(this.questionList);\n          });\n      }\n    });\n  }\n\n  public hasNext(): boolean {\n    return this.pagedCollection ? this.pagedCollection.hasNext : false;\n  }\n\n  public hasPrev(): boolean {\n    return this.pageIndex > 0 ? true : false;\n  }\n\n  constructor() {\n    moment.locale('ru');\n    moment.updateLocale('ru', {\n      calendar: {\n        sameDay: '[Сегодня]',\n        nextDay: 'DD MMMM YYYY',\n        nextWeek: 'DD MMMM YYYY',\n        lastDay: '[Вчера]',\n        lastWeek: 'DD MMMM YYYY',\n        sameElse: 'DD MMMM YYYY'\n      }\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { QuestionsPageComponent } from './components/questions-page/questions-page.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: QuestionsPageComponent,\n    data: { animation: 'fadeAnimation', title: 'Вопросы и предложения' }\n  }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class QuestionsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { QuestionsRoutingModule } from './questions-routing.module';\n\nimport { QuestionsPageComponent } from './components/questions-page/questions-page.component';\n\n@NgModule({\n  declarations: [\n    QuestionsPageComponent\n  ],\n  imports: [\n    CommonModule,\n    QuestionsRoutingModule,\n    SharedModule\n  ]\n})\nexport class QuestionsModule { }\n"],"sourceRoot":""}