{"version":3,"sources":["webpack:///./src/app/services/videos-views/videos-views.service.ts","webpack:///./src/app/services/videos/next-video.resolver.ts","webpack:///./src/app/services/videos/video.resolver.ts","webpack:///./src/app/services/videos/videos.resolver.ts","webpack:///./src/app/services/videos/videos.service.ts","webpack:///./src/app/videogallery/components/videoalbum-page/videoalbum-page.component.html","webpack:///./src/app/videogallery/components/videoalbum-page/videoalbum-page.component.scss","webpack:///./src/app/videogallery/components/videoalbum-page/videoalbum-page.component.ts","webpack:///./src/app/videogallery/components/videogallery-page/videogallery-page.component.html","webpack:///./src/app/videogallery/components/videogallery-page/videogallery-page.component.scss","webpack:///./src/app/videogallery/components/videogallery-page/videogallery-page.component.ts","webpack:///./src/app/videogallery/videogallery-routing.module.ts","webpack:///./src/app/videogallery/videogallery.module.ts"],"names":[],"mappings":"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FAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAAuF,wCAAwC,EAAE,uFAA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","file":"videogallery-videogallery-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ICachingOptions } from '@pnp/odata';\nimport { Observable, of } from 'rxjs';\nimport * as moment from 'moment';\n\nimport { VideoView } from './video-view';\nimport { ListItemsService } from '../list-items-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideosViewsService extends ListItemsService<VideoView>  {\n\n\n  getListTitle(): string {\n    return 'Просмотры видео';\n  }\n\n  getListRelativePath(): string {\n    return '/Lists/slVideosViews';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slVideoLookup/Id,slVideoLookup/Title,LikedBy/Id,LikesCount';\n  }\n\n  getExpand(): string {\n    return 'slVideoLookup,LikedBy';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return null;\n  }\n\n  getTop(): number {\n    return 5000;\n  }\n\n  getCachingOptions(): ICachingOptions {\n    return {\n      expiration: moment().add(30, 'minutes').toDate(),\n      key: this.getListTitle(),\n      storeName: 'session'\n    };\n  }\n\n  convertListItemToEntity(item: any): VideoView {\n    const view: VideoView = {\n      id: item.Id,\n      title: item.Title,\n      videoLookupId: null,\n      count: item.LikesCount,\n      userIds: item.LikedBy && item.LikedBy.map(l => l.Id) || []\n    };\n    if (item.slVideoLookup) {\n      view.videoLookupId = item.slVideoLookup.Id;\n    }\n    return view;\n  }\n\n  convertEntityToListItem(entity: VideoView) {\n    return {\n      Id: entity.id,\n      Title: entity.title,\n      slVideoLookupId: entity.videoLookupId\n    };\n  }\n\n  getMockItems(): VideoView[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n\n  getItemsByNewsId(ids: number[]): Observable<VideoView[]> {\n    if (ids && ids.length > 0) {\n      let filter = '';\n      for (const id of ids) {\n        filter += `slVideoLookup/Id eq ${id} or`;\n      }\n      filter = filter.slice(0, -3);\n      return this.getItems({ filter: filter, top: ids.length });\n    } else {\n      return of([]);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, ActivatedRoute } from '@angular/router';\n\nimport { Observable, of } from 'rxjs';\nimport { Video } from './video';\nimport { VideosService } from './videos.service';\nimport { flatMap } from 'rxjs/operators';\n\n@Injectable()\nexport class NextVideoResolver implements Resolve<Video> {\n\n  constructor(private videosService: VideosService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Video> {\n    const id = route.params.id;\n    const webId = route.params.webId;\n    return this.videosService.getItems({ filter: `Id gt ${id}`, orderBy: [['Id', true]], top: 1, webId: webId })\n      .pipe(flatMap((videos: Video[]) => {\n        return videos && videos.length > 0 ? of(videos[0]) : of(null);\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, ActivatedRoute } from '@angular/router';\n\nimport { Observable } from 'rxjs';\nimport { Video } from './video';\nimport { VideosService } from './videos.service';\n\n@Injectable()\nexport class VideoResolver implements Resolve<Video> {\n\n  constructor(private videosService: VideosService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Video> {\n    const id: number = route.params.id;\n    const webId = route.params.webId;\n    return this.videosService.getItem({ id: id, webId: webId });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { Video } from './video';\nimport { VideosService } from './videos.service';\n\n@Injectable()\nexport class VideosResolver implements Resolve<Video[]> {\n\n  constructor(private videosService: VideosService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<Video[]> {\n    const search = route.params.search;\n    const webId = route.params.webId;\n    const filter = search == null || search === '' ? undefined : `substringof('${search}',Title)`;\n    return this.videosService.getItems({filter: filter, webId: webId});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ICachingOptions } from '@pnp/odata';\nimport * as moment from 'moment';\n\nimport { Video } from './video';\nimport { ListItemsService } from '../list-items-service';\nimport { SharepointService } from '../sharepoint/sharepoint.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class VideosService extends ListItemsService<Video> {\n\n  getListTitle(): string {\n    return 'Ссылки на видео';\n  }\n\n  getListRelativePath(): string {\n    return 'lists/slVideo';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slVideoUrl,slIsIFrame,Created';\n  }\n\n  getExpand(): string {\n    return null;\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Created', false]];\n  }\n\n  getTop(): number {\n    return 5000;\n  }\n\n  getCachingOptions(): ICachingOptions {\n    return {\n      expiration: moment().add(30, 'minutes').toDate(),\n      key: this.getListTitle(),\n      storeName: 'session'\n    };\n  }\n\n  convertListItemToEntity(item: any): Video {\n    const entity: Video = {\n      id: item.Id,\n      title: item.Title,\n      isIFrame: item.slIsIFrame,\n      videoUrl: item.slVideoUrl,\n      created: new Date(item.Created),\n      createdTitle: moment(item.Created).fromNow()\n    };\n    return entity;\n  }\n\n  convertEntityToListItem(entity: Video) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): Video[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n\n}\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"companyId ? ['/enterprise/' + companyId] : ['/']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"['../../../']\\\">Медиагалерея</a></div>\\n    <div class=\\\"l-breadcrumb\\\">\\n      <a [routerLink]=\\\"['../../search']\\\">Видеогалерея</a>\\n    </div>\\n    <div class=\\\"l-breadcrumb\\\">\\n      {{item && item.title}}\\n    </div>\\n  </div>\\n  <div class=\\\"title\\\">Видеогалерея</div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-videoalbum\\\">\\n        <div class=\\\"search\\\">\\n          <input #searchRef placeholder=\\\"Введите запрос\\\" type=\\\"text\\\" />\\n        </div>\\n        <div class=\\\"main\\\" *ngIf=\\\"item\\\">\\n          <div class=\\\"leftside\\\">\\n            <div class=\\\"video-card\\\">\\n              <div class=\\\"video\\\">\\n                <div class=\\\"content\\\">\\n                  <ng-container *ngIf=\\\"item.isIFrame\\\">\\n                    <iframe [src]=\\\"item.videoUrl | iframeVideo\\\"></iframe>\\n                  </ng-container>\\n                  <ng-container *ngIf=\\\"!item.isIFrame\\\">\\n                    <video src=\\\"{{item.videoUrl}}\\\" controls=\\\"true\\\"></video>\\n                  </ng-container>\\n                </div>\\n              </div>\\n              <div class=\\\"title\\\">\\n                {{item.title}}\\n              </div>\\n              <div class=\\\"info\\\">\\n                {{ getEnding(item.viewsCount, ['просмотр', 'посмотра', 'просмотров']) }}  / {{ item.createdTitle }}\\n              </div>\\n              <div class=\\\"like-dislike\\\" percent-likes=\\\"50\\\">\\n                <input type=\\\"button\\\" class=\\\"like\\\" value=\\\"1\\\" />\\n                <input type=\\\"button\\\" class=\\\"dislike\\\" value=\\\"1\\\" />\\n              </div>\\n              <div class=\\\"description\\\">\\n                Михайловский металлургический комбинат отмечает юбилей.\\n                Индустриальный гигант превратил маленький город.\\n              </div>\\n            </div>\\n            <div class=\\\"comments\\\">\\n              <div class=\\\"title\\\">17 комментариев</div>\\n              <div class=\\\"add-comment\\\">\\n                <div class=\\\"user-card\\\">\\n                  <div class=\\\"avatar\\\">\\n                    <app-user-thumb></app-user-thumb>\\n                  </div>\\n                  <div class=\\\"info\\\">\\n                    <a href=\\\"#\\\" class=\\\"fullname\\\">Аватаркина Аватарка Аватоаровна</a>\\n                    <div class=\\\"post\\\">Графический дизайнер</div>\\n                  </div>\\n                </div>\\n                <div class=\\\"button\\\">\\n                  <input type=\\\"button\\\" value=\\\"Добавить комментарий\\\" />\\n                </div>\\n              </div>\\n              <div class=\\\"comment-list\\\">\\n                <div class=\\\"comment\\\">\\n                  <div class=\\\"user-card\\\">\\n                    <div class=\\\"avatar\\\">\\n                      <app-user-thumb></app-user-thumb>\\n                    </div>\\n                    <div class=\\\"info\\\">\\n                      <a href=\\\"#\\\" class=\\\"fullname\\\">Аватаркина Аватарка Аватоаровна</a>\\n                      <div class=\\\"post\\\">Графический дизайнер</div>\\n                    </div>\\n                  </div>\\n                  <div class=\\\"details\\\">\\n                    <div class=\\\"date\\\">7 дней назад</div>\\n                    <div class=\\\"text\\\">\\n                      Это просто фантастика! Я был там, поражает масштаб. За\\n                      десяток лет комбинат маленький город превратился в\\n                      цветущий сад региона\\n                    </div>\\n                  </div>\\n                  <div class=\\\"controls\\\">\\n                    <a href=\\\"#\\\" class=\\\"reply\\\">Ответить</a>\\n                    <div class=\\\"reply-count\\\">0</div>\\n                    <div class=\\\"like-dislike\\\">\\n                      <input type=\\\"button\\\" class=\\\"like\\\" value=\\\"1\\\" />\\n                      <input type=\\\"button\\\" class=\\\"dislike\\\" value=\\\"1\\\" />\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          <div class=\\\"rightside\\\">\\n            <div class=\\\"next-video\\\" *ngIf=\\\"next\\\">\\n              <div class=\\\"title\\\">Следующее видео</div>\\n              <div class=\\\"item\\\">\\n                <div [routerLink]=\\\"['../', next.id]\\\" class=\\\"cover\\\">\\n                  <div class=\\\"content\\\">\\n                    <ng-container *ngIf=\\\"next.isIFrame\\\">\\n                      <div id=\\\"block\\\" style=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%\\\"></div>\\n                      <iframe [src]=\\\"next.videoUrl | iframeVideo\\\"></iframe>\\n                    </ng-container>\\n                    <ng-container *ngIf=\\\"!next.isIFrame\\\">\\n                      <video src=\\\"{{next.videoUrl}}\\\"></video>\\n                    </ng-container>\\n                  </div>\\n                </div>\\n                <div class=\\\"info\\\">\\n                  <a [routerLink]=\\\"['../', next.id]\\\" class=\\\"title\\\">{{next.title}}</a>\\n                  <div class=\\\"views\\\">{{ getEnding(next.viewsCount, ['просмотр', 'просмотра', 'просмотров']) }}</div>\\n                  <div class=\\\"date\\\">{{next.createdTitle}}</div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"similar-video\\\">\\n              <div class=\\\"title\\\">Похожие видео</div>\\n              <div class=\\\"list\\\">\\n                <div class=\\\"item\\\">\\n                  <div class=\\\"cover\\\">\\n                    <div class=\\\"content\\\" style=\\\"background-image:url(assets/banners/news-banner-7.png)\\\"></div>\\n                    <div class=\\\"timestamp\\\">2:31</div>\\n                  </div>\\n                  <div class=\\\"info\\\">\\n                    <a href=\\\"#\\\" class=\\\"title\\\">\\n                      Музыка «Металлоинвест» Симфония партнерства текст\\n                      лырвалдорыоыр лдо лоыврадлыр\\n                    </a>\\n                    <div class=\\\"views\\\">1517 просмотров</div>\\n                    <div class=\\\"date\\\">4 месяца назад</div>\\n                  </div>\\n                </div>\\n                <div class=\\\"item\\\">\\n                  <div class=\\\"cover\\\">\\n                    <div class=\\\"content\\\" style=\\\"background-image:url(assets/banners/news-banner-3.png)\\\"></div>\\n                    <div class=\\\"timestamp\\\">2:31</div>\\n                  </div>\\n                  <div class=\\\"info\\\">\\n                    <a href=\\\"#\\\" class=\\\"title\\\">\\n                      Музыка «Металлоинвест» Симфония партнерства\\n                    </a>\\n                    <div class=\\\"views\\\">1517 просмотров</div>\\n                    <div class=\\\"date\\\">4 месяца назад</div>\\n                  </div>\\n                </div>\\n                <div class=\\\"item\\\">\\n                  <div class=\\\"cover\\\">\\n                    <div class=\\\"content\\\" style=\\\"background-image:url(assets/banners/news-banner-4.png)\\\"></div>\\n                    <div class=\\\"timestamp\\\">2:31</div>\\n                  </div>\\n                  <div class=\\\"info\\\">\\n                    <a href=\\\"#\\\" class=\\\"title\\\">\\n                      Музыка «Металлоинвест» Симфония партнерства\\n                    </a>\\n                    <div class=\\\"views\\\">1517 просмотров</div>\\n                    <div class=\\\"date\\\">4 месяца назад</div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-page-header {\\n  padding-bottom: 40px; }\\n\\n.l-videoalbum {\\n  padding-left: 25px; }\\n\\n.l-videoalbum .search {\\n    width: 520px;\\n    margin: 0 auto;\\n    margin-bottom: 40px; }\\n\\n.l-videoalbum .search input {\\n      height: 47px;\\n      width: 100%;\\n      background-position: right 12px center;\\n      color: #898888;\\n      border: 1px solid #bcbcbc;\\n      font-size: 16px;\\n      box-sizing: border-box;\\n      background-image: url(\\\"/assets/icons/icon-search-red.svg\\\");\\n      background-repeat: no-repeat;\\n      background-size: 31px 31px;\\n      background-position: left 12px center;\\n      padding-left: 50px;\\n      padding-right: 20px;\\n      outline: none; }\\n\\n.l-videoalbum .main {\\n    display: table;\\n    width: 100%;\\n    table-layout: fixed;\\n    border-collapse: collapse; }\\n\\n.l-videoalbum .main .leftside {\\n      display: table-cell;\\n      vertical-align: top;\\n      width: 65%;\\n      padding-right: 3%; }\\n\\n.l-videoalbum .main .leftside .video-card {\\n        margin-bottom: 2%; }\\n\\n.l-videoalbum .main .leftside .video-card .video {\\n          margin-bottom: 3%;\\n          position: relative; }\\n\\n.l-videoalbum .main .leftside .video-card .video:before {\\n            display: block;\\n            content: \\\" \\\";\\n            width: 100%;\\n            padding-bottom: 56.49717514%; }\\n\\n.l-videoalbum .main .leftside .video-card .video > .content {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            right: 0;\\n            bottom: 0; }\\n\\n.l-videoalbum .main .leftside .video-card .video .content video, .l-videoalbum .main .leftside .video-card .video .content iframe {\\n            width: 100%;\\n            height: 100%;\\n            position: absolute;\\n            left: 0;\\n            top: 0;\\n            right: 0;\\n            bottom: 0; }\\n\\n.l-videoalbum .main .leftside .video-card .title {\\n          font-size: 26px;\\n          color: #030303;\\n          margin-bottom: 4%; }\\n\\n.l-videoalbum .main .leftside .video-card .info {\\n          font-size: 14px;\\n          color: #768692;\\n          font-weight: bold;\\n          margin-bottom: 1%; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike {\\n          display: none;\\n          font-size: 0;\\n          position: relative;\\n          padding-bottom: 10px;\\n          margin-bottom: 2%; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike:after, .l-videoalbum .main .leftside .video-card .like-dislike:before {\\n            position: absolute;\\n            display: block;\\n            content: '';\\n            height: 3px;\\n            left: 0;\\n            bottom: 0; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='0']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='1']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='2']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='3']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='4']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='5']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='6']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='7']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='8']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='9']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='10']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='11']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='12']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='13']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='14']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='15']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='16']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='17']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='18']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='19']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='20']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='21']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='22']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='23']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='24']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='25']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='26']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='27']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='28']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='29']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='30']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='31']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='32']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='33']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='34']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='35']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='36']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='37']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='38']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='39']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='40']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='41']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='42']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='43']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='44']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='45']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='46']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='47']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='48']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='49']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='50']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='51']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='52']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='53']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='54']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='55']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='56']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='57']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='58']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='59']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='60']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='61']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='62']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='63']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='64']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='65']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='66']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='67']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='68']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='69']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='70']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='71']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='72']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='73']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='74']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='75']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='76']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='77']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='78']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='79']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='80']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='81']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='82']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='83']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='84']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='85']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='86']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='87']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='88']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='89']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='90']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='91']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='92']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='93']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='94']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='95']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='96']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='97']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='98']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='99']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike[percent-likes='100']:after {\\n            background-color: #005b9f; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike:before {\\n            right: 0;\\n            background-color: #88969e; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .like,\\n          .l-videoalbum .main .leftside .video-card .like-dislike .dislike {\\n            padding: 0;\\n            margin: 0;\\n            border: none;\\n            background-color: transparent;\\n            min-width: 0;\\n            font-size: 0.875rem;\\n            font-weight: bold;\\n            color: #88969e;\\n            display: inline-block;\\n            vertical-align: top;\\n            padding-left: 1.875rem;\\n            box-sizing: border-box;\\n            background-repeat: no-repeat;\\n            background-position: left center;\\n            background-size: 1.25rem 1.25rem;\\n            height: 1.25rem;\\n            line-height: 1.25rem; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .like {\\n            background-image: url(\\\"/assets/icons/icon-thumbs-up.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .like.liked {\\n              color: #0e7bbe;\\n              background-image: url(\\\"/assets/icons/icon-thumbs-up-blue.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .like + .dislike {\\n              margin-left: 1.563rem; }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .dislike {\\n            background-image: url(\\\"/assets/icons/icon-thumbs-down.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .video-card .like-dislike .dislike.disliked {\\n              color: #0e7bbe;\\n              background-image: url(\\\"/assets/icons/icon-thumbs-down-blue.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .video-card .description {\\n          display: none;\\n          font-size: 14px;\\n          line-height: 19px;\\n          color: #768692; }\\n\\n.l-videoalbum .main .leftside .comments {\\n        display: none; }\\n\\n.l-videoalbum .main .leftside .comments .title {\\n          font-size: 26px;\\n          color: #768692;\\n          margin-bottom: 25px; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment {\\n          padding-bottom: 20px;\\n          box-sizing: border-box;\\n          border-bottom: 1px solid #76869280;\\n          margin-bottom: 15px; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .user-card {\\n            display: inline-block; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .user-card .avatar {\\n              display: inline-block;\\n              vertical-align: middle; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .user-card .info {\\n              display: inline-block;\\n              vertical-align: middle;\\n              padding-left: 15px;\\n              box-sizing: border-box; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .user-card .info .fullname {\\n                display: block;\\n                text-decoration: none;\\n                font-size: 16px;\\n                font-weight: bold;\\n                color: #768692;\\n                margin-bottom: 5px; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .user-card .info .post {\\n                font-size: 14px;\\n                color: #768692; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .button {\\n            display: inline-block;\\n            float: right; }\\n\\n.l-videoalbum .main .leftside .comments .add-comment .button input {\\n              margin: 0;\\n              padding: 15px 30px;\\n              box-sizing: border-box;\\n              min-width: 0;\\n              background: none;\\n              font-size: 14px;\\n              font-weight: bold;\\n              color: #88969e;\\n              border: 1px solid #88969e;\\n              cursor: pointer; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment {\\n          margin-bottom: 10px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .user-card {\\n            margin-bottom: 10px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .user-card .avatar {\\n              display: inline-block;\\n              vertical-align: middle; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .user-card .info {\\n              display: inline-block;\\n              vertical-align: middle;\\n              padding-left: 15px;\\n              box-sizing: border-box; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .user-card .info .fullname {\\n                display: block;\\n                text-decoration: none;\\n                font-size: 16px;\\n                font-weight: bold;\\n                color: #050505;\\n                margin-bottom: 5px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .user-card .info .post {\\n                font-size: 14px;\\n                color: #050505; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .details {\\n            padding-left: 75px;\\n            box-sizing: border-box;\\n            margin-bottom: 15px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .details .date {\\n              display: inline;\\n              font-size: 12px;\\n              color: #88969e;\\n              margin-right: 10px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .details .text {\\n              display: inline;\\n              font-size: 12px;\\n              color: #030303; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls {\\n            padding-left: 75px;\\n            box-sizing: border-box; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .reply,\\n            .l-videoalbum .main .leftside .comments .comment-list .comment .controls .reply-count {\\n              display: inline-block;\\n              font-size: 12px;\\n              font-weight: bold;\\n              color: #768692;\\n              text-decoration: none;\\n              text-transform: uppercase; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .reply {\\n              margin-right: 10px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .reply-count {\\n              margin-right: 35px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike {\\n              display: inline-block; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .like,\\n              .l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .dislike {\\n                padding: 0;\\n                margin: 0;\\n                border: none;\\n                background-color: transparent;\\n                min-width: 0;\\n                font-size: 12px;\\n                font-weight: bold;\\n                color: #88969e;\\n                display: inline-block;\\n                vertical-align: top;\\n                padding-left: 15px;\\n                box-sizing: border-box;\\n                background-repeat: no-repeat;\\n                background-position: left center;\\n                background-size: 12px 12px;\\n                height: 12px;\\n                line-height: 12px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .like {\\n                background-image: url(\\\"/assets/icons/icon-thumbs-up.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .like.liked {\\n                  color: #0e7bbe;\\n                  background-image: url(\\\"/assets/icons/icon-thumbs-up-blue.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .like + .dislike {\\n                  margin-left: 15px; }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .dislike {\\n                background-image: url(\\\"/assets/icons/icon-thumbs-down.svg\\\"); }\\n\\n.l-videoalbum .main .leftside .comments .comment-list .comment .controls .like-dislike .dislike.disliked {\\n                  color: #0e7bbe;\\n                  background-image: url(\\\"/assets/icons/icon-thumbs-down-blue.svg\\\"); }\\n\\n.l-videoalbum .main .rightside {\\n      display: table-cell;\\n      vertical-align: top;\\n      width: 35%; }\\n\\n.l-videoalbum .main .rightside .next-video iframe,\\n      .l-videoalbum .main .rightside .similar-video iframe {\\n        width: 100%;\\n        height: 100%; }\\n\\n.l-videoalbum .main .rightside .next-video video,\\n      .l-videoalbum .main .rightside .similar-video video {\\n        width: 100%;\\n        height: 100%;\\n        display: block;\\n        position: absolute;\\n        left: 0;\\n        top: 0;\\n        right: 0;\\n        bottom: 0; }\\n\\n.l-videoalbum .main .rightside .next-video .title,\\n      .l-videoalbum .main .rightside .similar-video .title {\\n        font-size: 26px;\\n        color: #768692;\\n        margin-bottom: 25px; }\\n\\n.l-videoalbum .main .rightside .next-video .item,\\n      .l-videoalbum .main .rightside .similar-video .item {\\n        display: table;\\n        width: 100%;\\n        table-layout: fixed;\\n        border-collapse: collapse; }\\n\\n.l-videoalbum .main .rightside .next-video .item .cover,\\n        .l-videoalbum .main .rightside .similar-video .item .cover {\\n          display: table-cell;\\n          vertical-align: top;\\n          width: 40%;\\n          cursor: pointer;\\n          position: relative; }\\n\\n.l-videoalbum .main .rightside .next-video .item .cover:before,\\n          .l-videoalbum .main .rightside .similar-video .item .cover:before {\\n            display: block;\\n            content: \\\" \\\";\\n            width: 100%;\\n            padding-bottom: 56.49717514%; }\\n\\n.l-videoalbum .main .rightside .next-video .item .cover > .content,\\n          .l-videoalbum .main .rightside .similar-video .item .cover > .content {\\n            position: absolute;\\n            top: 0;\\n            left: 0;\\n            right: 0;\\n            bottom: 0; }\\n\\n.l-videoalbum .main .rightside .next-video .item .cover .content,\\n          .l-videoalbum .main .rightside .similar-video .item .cover .content {\\n            background-repeat: no-repeat;\\n            background-size: cover;\\n            background-position: center; }\\n\\n.l-videoalbum .main .rightside .next-video .item .cover .timestamp,\\n          .l-videoalbum .main .rightside .similar-video .item .cover .timestamp {\\n            position: absolute;\\n            right: 15px;\\n            bottom: 15px;\\n            width: 48px;\\n            height: 24px;\\n            font-size: 16px;\\n            line-height: 24px;\\n            color: #ffffff;\\n            text-align: center;\\n            background-color: #030303b7; }\\n\\n.l-videoalbum .main .rightside .next-video .item .info,\\n        .l-videoalbum .main .rightside .similar-video .item .info {\\n          display: table-cell;\\n          vertical-align: top;\\n          width: 60%;\\n          padding-left: 4%; }\\n\\n.l-videoalbum .main .rightside .next-video .item .info .title,\\n          .l-videoalbum .main .rightside .similar-video .item .info .title {\\n            display: block;\\n            display: -webkit-box;\\n            font-size: 22px;\\n            line-height: 27px;\\n            max-height: 54px;\\n            font-weight: bold;\\n            color: #030303;\\n            margin-bottom: 17px;\\n            -webkit-line-clamp: 2;\\n            overflow: hidden;\\n            text-overflow: ellipsis;\\n            text-decoration: none; }\\n\\n.l-videoalbum .main .rightside .next-video .item .info .views,\\n          .l-videoalbum .main .rightside .next-video .item .info .date,\\n          .l-videoalbum .main .rightside .similar-video .item .info .views,\\n          .l-videoalbum .main .rightside .similar-video .item .info .date {\\n            font-size: 18px;\\n            line-height: 27px;\\n            color: #768692; }\\n\\n.l-videoalbum .main .rightside .next-video {\\n        padding-bottom: 5%;\\n        box-sizing: border-box;\\n        border-bottom: 1px solid #a9b7bfb0;\\n        margin-bottom: 5%; }\\n\\n.l-videoalbum .main .rightside .similar-video {\\n        display: none; }\\n\\n.l-videoalbum .main .rightside .similar-video .list .item {\\n          margin-bottom: 3%; }\\n\"","import {\n  Component,\n  OnInit,\n  AfterViewInit,\n  ViewChild,\n  ElementRef\n} from '@angular/core';\nimport { Subscription, fromEvent } from 'rxjs';\nimport {\n  debounceTime,\n  map,\n  distinctUntilChanged\n} from 'rxjs/operators';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Video } from 'src/app/services/videos/video';\nimport { VideosService } from 'src/app/services/videos/videos.service';\nimport { VideosViewsService } from 'src/app/services/videos-views/videos-views.service';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\nimport { VideoView } from 'src/app/services/videos-views/video-view';\n\n@Component({\n  selector: 'app-videoalbum-page',\n  templateUrl: './videoalbum-page.component.html',\n  styleUrls: ['./videoalbum-page.component.scss']\n})\nexport class VideoalbumPageComponent implements OnInit, AfterViewInit {\n  @ViewChild('searchRef') searchRef: ElementRef;\n  videoSubscription: Subscription;\n  public item: Video = null;\n  public next: Video = null;\n  public companyId: number = null;\n  public webId: string = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private videosService: VideosService,\n    private router: Router,\n    private videosViewsService: VideosViewsService,\n    private sharepointService: SharepointService\n  ) {}\n\n  ngOnInit() {\n    this.route.data.pipe(map(data => data.video)).subscribe(video => {\n      this.item = video;\n      this.view(this.item, true);\n    });\n    this.route.data.pipe(map(data => data.next)).subscribe(next => {\n      this.next = next;\n      if (this.next) {\n        this.view(this.next);\n      }\n    });\n    this.route.parent.params.subscribe(params => {\n      if (params.id) {\n        this.companyId = params.id;\n      }\n    });\n  }\n\n  view(video: Video, isCreate?: boolean) {\n    const userId = this.sharepointService.getCurrentUserContext().userId;\n    this.videosViewsService\n      .getItems({ filter: `slVideoLookup/Id eq ${video.id}` })\n      .subscribe((views: VideoView[]) => {\n        if (views && views.length > 0) {\n          video.viewsCount = views[0].count;\n          if (views[0].userIds.every(id => id !== userId) && isCreate) {\n            this.videosViewsService.addLike({id: views[0].id}).subscribe();\n          }\n        } else {\n          if (isCreate) {\n            this.videosViewsService\n              .createItem({\n                id: undefined,\n                title: video.title,\n                videoLookupId: video.id\n              })\n              .subscribe(view => this.videosViewsService.addLike({id: view.id}).subscribe());\n          }\n        }\n      });\n  }\n\n  ngAfterViewInit(): void {\n    fromEvent(this.searchRef.nativeElement, 'keyup')\n      .pipe(\n        map((e: any) => e.target.value),\n        debounceTime(1000),\n        distinctUntilChanged()\n      )\n      .subscribe((query: string) => this.router.navigate(['../../search', query], { relativeTo: this.route }));\n  }\n\n  searchVideos(filter: string) {\n    let videoTitle = '';\n    if (filter && filter !== '') {\n      videoTitle += `substringof('${filter}',Title)`;\n    }\n    this.videosService.getItemsPaged({ filter: videoTitle, webId: this.webId }).\n      subscribe(page => {\n        this.router.navigate(['../../search', page.items[0].title], { relativeTo: this.route });\n      });\n  }\n\n  getEnding(number: number, endings: string[]) {\n    let ending: string;\n    if (number) {\n      number = number % 100;\n      if (number >= 11 && number <= 19) {\n        ending = endings[2];\n      } else {\n        const i = number % 10;\n        switch (i) {\n          case 1:\n            ending = endings[0];\n            break;\n          case 2:\n          case 3:\n          case 4:\n            ending = endings[1];\n            break;\n          default:\n            ending = endings[2];\n        }\n      }\n      ending = `${number} ${ending}`;\n    } else {\n      ending = `Нет ${endings[2]}`;\n    }\n    return ending;\n  }\n}\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"companyId ? ['/enterprise/' + companyId] : ['/']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"['../../']\\\">Медиагалерея</a></div>\\n    <div class=\\\"l-breadcrumb\\\">Видеогалерея</div>\\n  </div>\\n  <div class=\\\"title\\\">\\n    Видеогалерея\\n  </div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-videogallery\\\">\\n        <div class=\\\"search\\\">\\n          <input #searchRef placeholder=\\\"Введите запрос\\\" type=\\\"text\\\" [(ngModel)]=\\\"search\\\" (keypress)=\\\"onKeypress($event)\\\" />\\n        </div>\\n        <div class=\\\"empty-video-list\\\" *ngIf=\\\"items.length === 0\\\">\\n            Результаты не найдены\\n        </div>\\n        <div class=\\\"video-list\\\">\\n          <div class=\\\"video-item\\\" *ngFor=\\\"let item of items\\\">\\n            <div class=\\\"video-item__inner\\\">\\n              <div [routerLink]=\\\"searchOutside? ['../../item', item.id] : ['../item', item.id]\\\" class=\\\"cover\\\">\\n                <ng-container *ngIf=\\\"item.isIFrame\\\">\\n                  <div id=\\\"block\\\" style=\\\"position: absolute; top: 0; left: 0; width: 100%; height: 100%\\\"></div>\\n                  <iframe [src]=\\\"item.videoUrl | iframeVideo\\\"></iframe>\\n                </ng-container>\\n                <ng-container *ngIf=\\\"!item.isIFrame\\\">\\n                  <video src=\\\"{{item.videoUrl}}\\\"></video>\\n                </ng-container>\\n              </div>\\n              <div class=\\\"info\\\">\\n                <a [routerLink]=\\\"searchOutside? ['../../item', item.id] : ['../item', item.id]\\\" class=\\\"title\\\" appNgslDotdotdot>\\n                  {{item.title}}\\n                </a>\\n                <div class=\\\"views\\\">\\n                  {{ getEnding(item.viewsCount, ['просмотр', 'просмотра', 'просмотров']) }}\\n                </div>\\n                <div class=\\\"date\\\">\\n                  {{item.createdTitle}}\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-page-header {\\n  padding-bottom: 40px; }\\n\\n.l-videogallery {\\n  padding-left: 25px; }\\n\\n.l-videogallery .search {\\n    width: 520px;\\n    margin: 0 auto;\\n    margin-bottom: 90px; }\\n\\n.l-videogallery .search input {\\n      height: 47px;\\n      width: 100%;\\n      background-position: right 12px center;\\n      color: #898888;\\n      border: 1px solid #BCBCBC;\\n      font-size: 16px;\\n      box-sizing: border-box;\\n      background-image: url(\\\"/assets/icons/icon-search-red.svg\\\");\\n      background-repeat: no-repeat;\\n      background-size: 31px 31px;\\n      background-position: left 12px center;\\n      padding-left: 50px;\\n      padding-right: 20px;\\n      outline: none; }\\n\\n.l-videogallery .empty-video-list {\\n    font-size: 16px;\\n    -ms-flex-direction: row;\\n        flex-direction: row;\\n    -ms-flex-wrap: wrap;\\n        flex-wrap: wrap;\\n    -ms-flex-align: center;\\n        align-items: center;\\n    box-sizing: border-box; }\\n\\n.l-videogallery .video-list {\\n    margin: -10px; }\\n\\n.l-videogallery .video-list .video-item {\\n      padding: 10px;\\n      box-sizing: border-box;\\n      display: inline-block;\\n      vertical-align: top; }\\n\\n.l-videogallery .video-list .video-item .video-item__inner {\\n        width: 250px; }\\n\\n.l-videogallery .video-list .video-item video, .l-videogallery .video-list .video-item iframe {\\n        width: 100%;\\n        height: 100%; }\\n\\n.l-videogallery .video-list .video-item .cover {\\n        position: relative;\\n        margin-bottom: 20px;\\n        width: 100%;\\n        height: 150px;\\n        background-color: #000;\\n        cursor: pointer; }\\n\\n.l-videogallery .video-list .video-item .cover .timestamp {\\n          position: absolute;\\n          right: 15px;\\n          bottom: 15px;\\n          width: 48px;\\n          height: 24px;\\n          font-size: 16px;\\n          line-height: 24px;\\n          color: #FFFFFF;\\n          text-align: center;\\n          background-color: #030303b7; }\\n\\n.l-videogallery .video-list .video-item .info .title {\\n        display: block;\\n        font-weight: bold;\\n        color: #030303;\\n        margin-bottom: 17px;\\n        text-decoration: none;\\n        font-size: 22px;\\n        line-height: 27px;\\n        height: 54px; }\\n\\n.l-videogallery .video-list .video-item .info .views,\\n      .l-videogallery .video-list .video-item .info .date {\\n        font-size: 18px;\\n        line-height: 27px;\\n        color: #768692; }\\n\"","import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { map, debounceTime, distinctUntilChanged } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\n\nimport { Video } from 'src/app/services/videos/video';\nimport { VideosService } from 'src/app/services/videos/videos.service';\nimport { VideosViewsService } from 'src/app/services/videos-views/videos-views.service';\nimport { VideoView } from 'src/app/services/videos-views/video-view';\nimport { Subscription } from '@pnp/sp/src/subscriptions';\n\n@Component({\n  selector: 'app-videogallery-page',\n  templateUrl: './videogallery-page.component.html',\n  styleUrls: ['./videogallery-page.component.scss']\n})\nexport class VideogalleryPageComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('searchRef') searchRef: ElementRef;\n  items: Video[] = [];\n  search: string = null;\n\n  public companyId: number = null;\n  public webId: string = null;\n  public searchOutside: string = null;\n\n  constructor(\n    private videosService: VideosService,\n    private route: ActivatedRoute,\n    private videosViewsService: VideosViewsService\n  ) {}\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      if (params.webId) {\n        this.webId = params.webId;\n      }\n      if(params.search) {\n        this.searchOutside = params.search;\n        this.searchVideos(params.search);\n      }\n    });\n    this.route.params\n      .pipe(map(data => data.search))\n      .subscribe((search: string) => {\n        this.search = search;\n      });\n    this.route.data\n      .pipe(map(data => data.videos))\n      .subscribe((items: Video[]) => {\n        this.items = items;\n        this.loadViews(items);\n      });\n      this.route.parent.params.subscribe(params => {\n        if (params.id) {\n          this.companyId = params.id;\n        }\n      });\n  }\n\n  ngAfterViewInit(): void {\n    fromEvent(this.searchRef.nativeElement, 'keyup')\n      .pipe(\n        map((e: any) => e.target.value),\n        debounceTime(1000),\n        distinctUntilChanged())\n      .subscribe((query: string) => this.searchVideos(query));\n  }\n\n  searchVideos(filter: string) {\n    let videoTitle = '';\n    if (filter && filter !== '') {\n      videoTitle += `substringof('${filter}',Title)`;\n    }\n    this.videosService.getItemsPaged({ filter: videoTitle, webId: this.webId }).\n      subscribe(page => {\n        this.items = page.items;\n        this.loadViews(page.items);\n      });\n  }\n\n  getEnding(number: number, endings: string[]) {\n    let ending: string;\n    if (number) {\n      number = number % 100;\n      if (number >= 11 && number <= 19) {\n        ending = endings[2];\n      } else {\n        const i = number % 10;\n        switch (i) {\n          case (1): ending = endings[0]; break;\n          case (2):\n          case (3):\n          case (4): ending = endings[1]; break;\n          default: ending = endings[2];\n        }\n      }\n      ending = `${number} ${ending}`;\n    } else {\n      ending = `Нет ${endings[2]}`;\n    }\n    return ending;\n  }\n\n  private loadViews(videos: Video[]) {\n    let filter = '';\n    if (videos.length > 0) {\n      for (const n of videos) {\n        filter += `slVideoLookup/Id eq ${n.id} or `;\n      }\n      filter = filter.slice(0, -4);\n      this.videosViewsService.getItems({ filter: filter, top: 5000 })\n        .subscribe((views: VideoView[]) => {\n          for (const n of this.items) {\n            const view = views.filter(c => c.videoLookupId === n.id);\n            if (view && view.length > 0) {\n              n.viewsCount = view[0].count;\n            } else {\n              n.viewsCount = 0;\n            }\n          }\n        });\n    }\n  }\n\n  onKeypress(event) {\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      return false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VideogalleryPageComponent } from './components/videogallery-page/videogallery-page.component';\nimport { VideoalbumPageComponent } from './components/videoalbum-page/videoalbum-page.component';\n\nimport { VideosResolver } from 'src/app/services/videos/videos.resolver';\nimport { NextVideoResolver } from 'src/app/services/videos/next-video.resolver';\nimport { VideoResolver } from 'src/app/services/videos/video.resolver';\n\nconst routes: Routes = [\n  {\n    path: 'search',\n    component: VideogalleryPageComponent,\n    resolve: { videos: VideosResolver},\n    data: { animation: 'fadeAnimation', title: 'Видеогалерея' }\n  },\n  {\n    path: 'search/:search',\n    component: VideogalleryPageComponent,\n    resolve: { videos: VideosResolver},\n    data: { animation: 'fadeAnimation', title: 'Видеогалерея' }\n  },\n  {\n    path: 'item/:id',\n    component: VideoalbumPageComponent,\n    resolve: { video: VideoResolver, next: NextVideoResolver },\n    data: { animation: 'fadeAnimation', title: 'Видео' }\n  }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    providers: [VideoResolver, NextVideoResolver, VideosResolver],\n    exports: [RouterModule]\n})\nexport class VideogalleryRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CookieService } from 'ngx-cookie-service';\nimport { FormsModule } from '@angular/forms';\n\nimport { VideogalleryRoutingModule } from './videogallery-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\nimport { VideoalbumPageComponent } from './components/videoalbum-page/videoalbum-page.component';\nimport { VideogalleryPageComponent } from './components/videogallery-page/videogallery-page.component';\n\n@NgModule({\n  declarations: [\n    VideoalbumPageComponent,\n    VideogalleryPageComponent\n  ],\n  imports: [\n    CommonModule,\n    VideogalleryRoutingModule,\n    SharedModule,\n    FormsModule\n  ],\n  providers: [\n    CookieService\n  ]\n})\nexport class VideogalleryModule { }\n"],"sourceRoot":""}