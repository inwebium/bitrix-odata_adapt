(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"7+tq":function(n,l,t){"use strict";var o=t("CcnG"),e=t("Ip0R");t("qa0Y"),t("ZYCi"),t("nqBZ"),t.d(l,"a",function(){return u}),t.d(l,"b",function(){return b});var u=o.qb({encapsulation:0,styles:[['#s4-bodyContainer[_ngcontent-%COMP%]{padding:0}@-webkit-keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}@keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}.security-controls.cover[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:8;background-color:rgba(0,0,0,.2)}.show-controls[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-size:44px;height:35px;line-height:7px;z-index:10;width:35px;color:#0d0d0d;letter-spacing:-5px;white-space:nowrap;background-color:#6b6b6b;border-radius:100%;cursor:pointer}.show-controls[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;display:block;height:100%;background-repeat:no-repeat;background-position:center;background-size:25px 25px;background-image:url(/local/js/assets/icons/icon-dots-white.svg)}.private-controls[_ngcontent-%COMP%]{z-index:20;position:absolute;top:10px;right:10px;border:1px solid #484848;box-sizing:border-box;font-size:0;background-color:#fff;width:150px}.is-expanded[_ngcontent-%COMP%]   .private-controls[_ngcontent-%COMP%]{display:block}.private-controls[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{z-index:20;padding:10px 15px;margin:0;border:0;min-width:0;background-color:transparent;cursor:pointer;font-size:14px;text-transform:uppercase;color:#050505;display:block;text-align:left;width:100%;box-sizing:border-box;border-bottom:1px solid #d0d0d0}.private-controls[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{outline:0}.private-controls[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:last-child{border:none}.private-controls[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:hover{color:red}.warning-alert[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px;right:10px;bottom:10px;background-color:#fff;z-index:25}.warning-alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{height:65%;position:relative}.warning-alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);padding:0 10px;box-sizing:border-box;font-weight:400;font-size:16px;text-align:center}.warning-alert[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{height:35%;font-size:0;position:relative}.warning-alert[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{position:absolute;top:50%;left:0;right:0;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);text-align:center}.warning-alert[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{padding:0 25px;margin:0;border:0;min-width:0;cursor:pointer;vertical-align:top;font-size:18px;height:45px;color:#fff;background-color:#dd1e25;border:none;border-radius:5px;box-sizing:border-box;display:inline-block;white-space:nowrap;text-decoration:none}.warning-alert[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]:focus{outline:0}.warning-alert[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%] + input[type=button][_ngcontent-%COMP%]{margin-left:15px}']],data:{}});function i(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,0,"div",[["class","show-controls"],["title","\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.openControls(t)&&o),o},null,null))],null,null)}function r(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,0,"input",[["type","button"],["value","\u0421\u043e\u0437\u0434\u0430\u0442\u044c"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.handleCreate(t)&&o),o},null,null))],null,null)}function a(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,0,"input",[["type","button"],["value","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.handleEdit(t)&&o),o},null,null))],null,null)}function s(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,0,"input",[["type","button"],["value","\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.toggleAlert(t)&&o),o},null,null))],null,null)}function c(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,6,"div",[["class","private-controls"]],null,null,null,null,null)),(n()(),o.jb(16777216,null,null,1,null,r)),o.rb(2,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(n()(),o.jb(16777216,null,null,1,null,a)),o.rb(4,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(n()(),o.jb(16777216,null,null,1,null,s)),o.rb(6,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.canBeCreated),n(l,4,0,t.canBeEdited),n(l,6,0,t.canBeDeleted)},null)}function p(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,7,"div",[["class","warning-alert"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,2,"div",[["class","text"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Kb(-1,null,["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442?"])),(n()(),o.sb(4,0,null,null,3,"div",[["class","buttons"]],null,null,null,null,null)),(n()(),o.sb(5,0,null,null,2,"div",[["class","inner"]],null,null,null,null,null)),(n()(),o.sb(6,0,null,null,0,"input",[["type","button"],["value","\u041e\u0442\u043c\u0435\u043d\u0430"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.closeControls(t)&&o),o},null,null)),(n()(),o.sb(7,0,null,null,0,"input",[["type","button"],["value","\u041e\u043a"]],null,[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.handleRemove(t)&&o),o},null,null))],null,null)}function b(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,6,"div",[["class","security-controls"]],[[2,"cover",null]],[[null,"mouseleave"]],function(n,l,t){var o=!0;return"mouseleave"===l&&(o=!1!==n.component.mouseLeave()&&o),o},null,null)),(n()(),o.jb(16777216,null,null,1,null,i)),o.rb(2,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(n()(),o.jb(16777216,null,null,1,null,c)),o.rb(4,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null),(n()(),o.jb(16777216,null,null,1,null,p)),o.rb(6,16384,null,0,e.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,t.isShow),n(l,4,0,t.isActivated),n(l,6,0,t.isActivated&&t.showAlret)},function(n,l){n(l,0,0,l.component.isActivated)})}},CKIZ:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),e=function(){},u=t("pMnS"),i=t("7+tq"),r=t("qa0Y"),a=t("ZYCi"),s=t("nqBZ"),c=t("Ip0R"),p=(t("JQBr"),t("IS4z")),b=t("Cdqi"),d=t("l1rk"),g=t("zIWb"),h=function(){function n(n,l,t,o,e,u){this.document=n,this.route=l,this.sidebarService=t,this.sharepointService=o,this.photoLibraryService=e,this.cookieService=u,this.page=null,this.albums=[],this.showSidebar=!1,this.s4=null,this.isLoadingItems=!1,this.sidebarService.handleSetSettings({showSidebar:!1,bgColor:"#fff"})}return n.prototype.loadMore=function(){var n=this;this.isLoadingItems=!0,this.page.getNext().subscribe(function(l){n.page=l,n.albums=n.albums.concat(n.page.items),n.isLoadingItems=!1})},n.prototype.load=function(){var n=this;this.photoLibraryService.getItemsPaged({filter:"ContentType eq '"+g.a.album+"'",top:8,orderBy:[["slAlbumIndex",!0]]}).subscribe(function(l){n.page=l,n.albums=l.items,n.isLoadingItems=!1,document.getElementById("s4-workspace").scrollTop=0})},n.prototype.onWorkSpaceScroll=function(){this.s4.scrollTop>=this.s4.scrollHeight-(this.s4.clientHeight+100)&&this.page.hasNext&&!this.isLoadingItems&&this.loadMore()},n.prototype.ngOnInit=function(){this.s4=this.document.getElementById("s4-workspace"),this.s4.addEventListener("scroll",this.onWorkSpaceScroll.bind(this),!0),this.page=this.route.snapshot.data.albums,this.albums=this.page.items},n.prototype.ngOnDestroy=function(){this.s4.removeEventListener("scroll",this.onWorkSpaceScroll.bind(this),!0)},n.prototype.create=function(){this.cookieService.set("splnu","0",1,"/"),window.location.href=this.sharepointService.getCurrentUserContext().webServerRelativeUrl+"/slPhotoLibrary/Forms/Upload.aspx?ContentTypeId=0x012000BFB863A2672645ABBEA198EF8334172D&Source="+encodeURIComponent(window.location.href)},n.prototype.edit=function(n){this.cookieService.set("splnu","0",1,"/"),window.location.href=this.sharepointService.getCurrentUserContext().webServerRelativeUrl+"/slPhotoLibrary/Forms/EditForm.aspx?ID="+n.id+"&Source="+encodeURIComponent(window.location.href)},n.prototype.remove=function(n){var l=this;this.photoLibraryService.recycleItem(n).subscribe(function(){return l.load()})},n}(),m=t("jmvC"),f=o.qb({encapsulation:0,styles:[["#s4-bodyContainer[_ngcontent-%COMP%]{padding:0}@-webkit-keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}@keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}.l-photo-gallery[_ngcontent-%COMP%]{max-width:90%;margin:0 auto}.l-photo-gallery__list[_ngcontent-%COMP%]{margin:0 -15px;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;text-align:left;-ms-flex-direction:row;flex-direction:row}.l-photo-gallery__item[_ngcontent-%COMP%]{padding:0 15px;-ms-flex-preferred-size:340px;flex-basis:340px;margin-bottom:40px}.m-photo-gallery-card[_ngcontent-%COMP%]{position:relative}.m-photo-gallery-card[_ngcontent-%COMP%]:hover   .admin-controls[_ngcontent-%COMP%]{display:block}.m-photo-gallery-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{height:225px;background-repeat:no-repeat;background-position:center;background-size:cover;margin-bottom:15px;position:relative;background-color:#e4e4e4;cursor:pointer}.m-photo-gallery-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;text-overflow:ellipsis;-webkit-line-clamp:2;overflow:hidden;max-height:50px;text-decoration:none;font-size:22px;line-height:25px;color:#000;margin-bottom:15px}.m-photo-gallery-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{display:block;text-overflow:ellipsis;-webkit-line-clamp:3;overflow:hidden;max-height:60px;font-size:14px;color:#636363;line-height:20px}.admin-controls[_ngcontent-%COMP%]{display:none}"]],data:{}});function v(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,1,"div",[["class","description"]],null,null,null,null,null)),(n()(),o.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.albumDescription)})}function C(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,13,"div",[["class","l-photo-gallery__item"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,12,"div",[["class","m-photo-gallery-card"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,2,"div",[["class","admin-controls"]],null,null,null,null,null)),(n()(),o.sb(3,0,null,null,1,"app-admin-controls",[],null,[[null,"create"],[null,"edit"],[null,"remove"]],function(n,l,t){var o=!0,e=n.component;return"create"===l&&(o=!1!==e.create()&&o),"edit"===l&&(o=!1!==e.edit(t)&&o),"remove"===l&&(o=!1!==e.remove(t)&&o),o},i.b,i.a)),o.rb(4,114688,null,0,r.a,[a.a,o.l,s.a],{item:[0,"item"]},{create:"create",edit:"edit",remove:"remove"}),(n()(),o.sb(5,0,null,null,4,"div",[["class","photo"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,8).onClick()&&e),e},null,null)),o.rb(6,278528,null,0,c.n,[o.v,o.l,o.F],{ngStyle:[0,"ngStyle"]},null),o.Fb(7,{"background-image":0}),o.rb(8,16384,null,0,a.n,[a.m,a.a,[8,null],o.F,o.l],{routerLink:[0,"routerLink"]},null),o.Db(9,1),(n()(),o.sb(10,0,null,null,1,"a",[["class","title"]],null,null,null,null,null)),(n()(),o.Kb(11,null,["",""])),(n()(),o.jb(16777216,null,null,1,null,v)),o.rb(13,16384,null,0,c.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,4,0,l.context.$implicit),n(l,6,0,n(l,7,0,"url("+l.context.$implicit.albumCover+")")),n(l,8,0,n(l,9,0,l.context.$implicit.id)),n(l,13,0,l.context.$implicit.albumDescription)},function(n,l){n(l,11,0,l.context.$implicit.title)})}function x(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,15,"div",[["class","l-page-header"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,12,"div",[["class","l-breadcrumbs"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.sb(3,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(4,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(5,1),(n()(),o.Kb(-1,null,["\u0413\u043b\u0430\u0432\u043d\u0430\u044f"])),(n()(),o.sb(7,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.sb(8,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,9).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(9,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(10,1),(n()(),o.Kb(-1,null,["\u041c\u0435\u0434\u0438\u0430\u0433\u0430\u043b\u0435\u0440\u0435\u044f"])),(n()(),o.sb(12,0,null,null,1,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.Kb(-1,null,["\u0424\u043e\u0442\u043e\u0433\u0430\u043b\u0435\u0440\u0435\u044f"])),(n()(),o.sb(14,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),o.Kb(-1,null,["\u0424\u043e\u0442\u043e\u0433\u0430\u043b\u0435\u0440\u0435\u044f"])),(n()(),o.sb(16,0,null,null,6,"div",[["class","l-page"]],null,null,null,null,null)),(n()(),o.sb(17,0,null,null,5,"div",[["class","l-page-inner"]],null,null,null,null,null)),(n()(),o.sb(18,0,null,null,4,"div",[["class","l-page__content"]],null,null,null,null,null)),(n()(),o.sb(19,0,null,null,3,"div",[["class","l-photo-gallery"]],null,null,null,null,null)),(n()(),o.sb(20,0,null,null,2,"div",[["class","l-photo-gallery__list"]],null,null,null,null,null)),(n()(),o.jb(16777216,null,null,1,null,C)),o.rb(22,278528,null,0,c.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,4,0,n(l,5,0,"/")),n(l,9,0,n(l,10,0,"../../")),n(l,22,0,t.albums)},function(n,l){n(l,3,0,o.Cb(l,4).target,o.Cb(l,4).href),n(l,8,0,o.Cb(l,9).target,o.Cb(l,9).href)})}var k=o.ob("app-photogallery-page",h,function(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,1,"app-photogallery-page",[],null,null,null,x,f)),o.rb(1,245760,null,0,h,[c.c,a.a,p.a,b.a,d.a,m.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),y=t("dhB6"),_=t("amLo"),M=t("FXjk"),O=t("32RR"),P=function(){function n(n,l,t){this.route=n,this.sidebarService=l,this.imagesService=t,this.photos=null,this.album=null,this.showSidebar=!1,this.sidebarService.handleSetSettings({showSidebar:!1,bgColor:"#fff"})}return n.prototype.getFileNameAndExtension=function(n){var l=n.split("\\").pop().split("/").pop(),t=l.substr((Math.max(0,l.lastIndexOf("."))||1/0)+1),o=l.replace("."+t,"");return{ext:t,name:o,full:o+"."+t}},n.prototype.ngOnInit=function(){this.photos=this.route.snapshot.data.photos.sort(function(n,l){return n.photoIndex>l.photoIndex?1:n.photoIndex<l.photoIndex?-1:0}),this.album=this.route.snapshot.data.album},n.prototype.prepareLink=function(n){return this.imagesService.prepareBackgroundUrl(n)},n}(),w=o.qb({encapsulation:0,styles:[["#s4-bodyContainer[_ngcontent-%COMP%]{padding:0}@-webkit-keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}@keyframes shine-avatar{0%{background-position:-30px}100%,40%{background-position:210px}}.l-photo-album[_ngcontent-%COMP%]{max-width:90%;margin:0 auto}.l-photo-album__list[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-pack:start;justify-content:start;margin:0 -15px}.l-photo-album__item[_ngcontent-%COMP%]{-ms-flex-preferred-size:340px;flex-basis:340px;padding:0 15px;box-sizing:content-box;margin-bottom:20px;cursor:pointer}.l-photo-album__item.image-view[_ngcontent-%COMP%]   .m-albom-popup[_ngcontent-%COMP%]{display:block}.m-albom-popup[_ngcontent-%COMP%]{height:100%}.m-photo-album-card[_ngcontent-%COMP%]{position:relative}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{height:225px;position:relative;background-repeat:no-repeat;background-position:center;background-size:cover;overflow:hidden}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]:hover   .controls[_ngcontent-%COMP%]{bottom:0}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:-135px;transition:bottom .3s;padding:15px 20px;box-sizing:border-box;height:135px;background:linear-gradient(to bottom,rgba(0,0,0,.01) 0,rgba(88,88,88,.8) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#03000000', endColorstr='#cc585858', GradientType=0)}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:15px}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{z-index:100}.m-photo-album-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400}.m-albom-popup-card[_ngcontent-%COMP%]{position:relative}.m-albom-popup-card[_ngcontent-%COMP%]:before{display:block;content:\" \";width:100%;padding-bottom:71.42857143%}.m-albom-popup-card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0}.m-albom-popup-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box;background-color:#fff}.m-albom-popup-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:14px;color:#fff;font-weight:600;position:absolute;z-index:10;bottom:-50px;height:35px;line-height:35px;display:inline-block;background-color:#000;padding:0 15px;border-radius:15px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.m-albom-popup-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;position:relative}.m-albom-popup-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;transition:bottom .3s;padding:15px 20px;box-sizing:border-box;height:135px;background:linear-gradient(to bottom,rgba(0,0,0,.01) 0,rgba(46,46,46,.8) 100%);filter:progid:DXImageTransform.Microsoft.gradient( startColorstr='#03000000', endColorstr='#cc585858', GradientType=0)}.m-albom-popup-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:15px}.m-albom-popup-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]{z-index:100}.m-albom-popup-card[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]   .btn-download[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:400}"]],data:{}});function S(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,14,"div",[["class","m-albom-popup"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,13,"div",[["class","m-albom-popup-card"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,10,"div",[["class","content"]],null,null,null,null,null)),(n()(),o.sb(3,0,null,null,9,"div",[["class","photo"]],null,null,null,null,null)),o.rb(4,278528,null,0,c.n,[o.v,o.l,o.F],{ngStyle:[0,"ngStyle"]},null),o.Fb(5,{"background-image":0}),(n()(),o.sb(6,0,null,null,6,"div",[["class","controls"]],null,null,null,null,null)),(n()(),o.sb(7,0,null,null,5,"div",[["class","control"]],null,null,null,null,null)),(n()(),o.sb(8,0,null,null,4,"a",[["class","btn btn-download"],["download",""]],[[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==t.stopPropagation()&&o),o},null,null)),(n()(),o.Kb(-1,null,[" \u0421\u043a\u0430\u0447\u0430\u0442\u044c "])),(n()(),o.sb(10,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Kb(11,null,["",""])),(n()(),o.sb(12,0,null,null,0,"i",[],null,null,null,null,null)),(n()(),o.sb(13,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),o.Kb(14,null,["",""]))],function(n,l){n(l,4,0,n(l,5,0,"url("+l.component.prepareLink(l.parent.context.$implicit.url)+")"))},function(n,l){var t=l.component;n(l,8,0,o.ub(1,"",l.parent.context.$implicit.url,"")),n(l,11,0,t.getFileNameAndExtension(l.parent.context.$implicit.url).ext),n(l,14,0,t.getFileNameAndExtension(l.parent.context.$implicit.url).name)})}function I(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,13,"a",[["class","l-photo-album__item"],["id","i"]],[[8,"title",0]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n.parent,2).handleToggleGallery(n.context.index,t)&&e),e},null,null)),(n()(),o.sb(1,0,null,null,10,"div",[["class","m-photo-album-card"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,9,"div",[["class","photo"]],null,null,null,null,null)),o.rb(3,278528,null,0,c.n,[o.v,o.l,o.F],{ngStyle:[0,"ngStyle"]},null),o.Fb(4,{"background-image":0}),(n()(),o.sb(5,0,null,null,6,"div",[["class","controls"]],null,null,null,null,null)),(n()(),o.sb(6,0,null,null,5,"div",[["class","control"]],null,null,null,null,null)),(n()(),o.sb(7,0,null,null,4,"a",[["class","btn btn-download"],["download",""]],[[8,"href",4]],[[null,"click"]],function(n,l,t){var o=!0;return"click"===l&&(o=!1!==t.stopPropagation()&&o),o},null,null)),(n()(),o.Kb(-1,null,[" \u0421\u043a\u0430\u0447\u0430\u0442\u044c "])),(n()(),o.sb(9,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),o.Kb(10,null,["",""])),(n()(),o.sb(11,0,null,null,0,"i",[],null,null,null,null,null)),(n()(),o.jb(0,null,null,1,null,S)),o.rb(13,16384,[[1,4]],0,y.a,[o.O],null,null)],function(n,l){n(l,3,0,n(l,4,0,"url("+l.component.prepareLink(l.context.$implicit.url)+")"))},function(n,l){var t=l.component;n(l,0,0,o.ub(1,"",t.getFileNameAndExtension(l.context.$implicit.url).full,"")),n(l,7,0,o.ub(1,"",l.context.$implicit.url,"")),n(l,10,0,t.getFileNameAndExtension(l.context.$implicit.url).ext)})}function A(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,11,"div",[["class","l-photo-album"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,4,"ngsl-gallery",[["class","l-photo-album__list"]],null,[["document","click"]],function(n,l,t){var e=!0;return"document:click"===l&&(e=!1!==o.Cb(n,2).onClick(t.target)&&e),e},_.b,_.a)),o.rb(2,1228800,[["ngslGallery",4]],1,M.a,[o.B],null,null),o.Ib(603979776,1,{items:1}),(n()(),o.jb(16777216,null,0,1,null,I)),o.rb(5,278528,null,0,c.j,[o.R,o.O,o.u],{ngForOf:[0,"ngForOf"]},null),(n()(),o.sb(6,0,null,null,5,"div",[["class","l-photo-album__return"]],null,null,null,null,null)),(n()(),o.sb(7,0,null,null,4,"a",[["class","btn btn-to-back"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,8).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(8,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(9,1),(n()(),o.Kb(-1,null,[" \u041a \u0441\u043f\u0438\u0441\u043a\u0443 \u0430\u043b\u044c\u0431\u043e\u043c\u043e\u0432 "])),(n()(),o.sb(11,0,null,null,0,"i",[],null,null,null,null,null))],function(n,l){n(l,5,0,l.component.photos),n(l,8,0,n(l,9,0,"../"))},function(n,l){n(l,7,0,o.Cb(l,8).target,o.Cb(l,8).href)})}function L(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,20,"div",[["class","l-page-header"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,17,"div",[["class","l-breadcrumbs"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.sb(3,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,4).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(4,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(5,1),(n()(),o.Kb(-1,null,["\u0413\u043b\u0430\u0432\u043d\u0430\u044f"])),(n()(),o.sb(7,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.sb(8,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,9).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(9,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(10,1),(n()(),o.Kb(-1,null,["\u041c\u0435\u0434\u0438\u0430\u0433\u0430\u043b\u0435\u0440\u0435\u044f"])),(n()(),o.sb(12,0,null,null,4,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.sb(13,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==o.Cb(n,14).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&e),e},null,null)),o.rb(14,671744,null,0,a.o,[a.m,a.a,c.h],{routerLink:[0,"routerLink"]},null),o.Db(15,1),(n()(),o.Kb(-1,null,["\u0424\u043e\u0442\u043e\u0433\u0430\u043b\u0435\u0440\u0435\u044f"])),(n()(),o.sb(17,0,null,null,1,"div",[["class","l-breadcrumb"]],null,null,null,null,null)),(n()(),o.Kb(18,null,["",""])),(n()(),o.sb(19,0,null,null,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),o.Kb(20,null,["",""])),(n()(),o.sb(21,0,null,null,4,"div",[["class","l-page"]],null,null,null,null,null)),(n()(),o.sb(22,0,null,null,3,"div",[["class","l-page-inner"]],null,null,null,null,null)),(n()(),o.sb(23,0,null,null,2,"div",[["class","l-page__content"]],null,null,null,null,null)),(n()(),o.jb(16777216,null,null,1,null,A)),o.rb(25,16384,null,0,c.k,[o.R,o.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,4,0,n(l,5,0,"/")),n(l,9,0,n(l,10,0,"../../")),n(l,14,0,n(l,15,0,"../")),n(l,25,0,t.photos)},function(n,l){var t=l.component;n(l,3,0,o.Cb(l,4).target,o.Cb(l,4).href),n(l,8,0,o.Cb(l,9).target,o.Cb(l,9).href),n(l,13,0,o.Cb(l,14).target,o.Cb(l,14).href),n(l,18,0,t.album.title),n(l,20,0,t.album.title)})}var K=o.ob("app-photoalbum-page",P,function(n){return o.Mb(0,[(n()(),o.sb(0,0,null,null,1,"app-photoalbum-page",[],null,null,null,L,w)),o.rb(1,114688,null,0,P,[a.a,p.a,O.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),z=function(){function n(n){this.photoLibraryService=n}return n.prototype.resolve=function(n,l){return this.photoLibraryService.getFiles(n.params.id)},n}(),F=function(){function n(n){this.photoLibraryService=n}return n.prototype.resolve=function(n,l){return this.photoLibraryService.getItem({id:n.params.id})},n}(),R=function(){function n(n){this.photoLibraryService=n}return n.prototype.resolve=function(n,l){return this.photoLibraryService.getItemsPaged({filter:"ContentType eq '"+encodeURI(g.a.album)+"'",top:8,orderBy:[["slAlbumIndex",!0]]})},n}(),B=t("gIcY"),j={animation:"fadeAnimation",title:"\u0410\u043b\u044c\u0431\u043e\u043c\u044b"},E={animation:"fadeAnimation",title:"\u0410\u043b\u044c\u0431\u043e\u043c"},D=function(){},q=t("PCNd");t.d(l,"PhotogalleryModuleNgFactory",function(){return $});var $=o.pb(e,[],function(n){return o.zb([o.Ab(512,o.k,o.eb,[[8,[u.a,k,K]],[3,o.k],o.z]),o.Ab(4608,c.m,c.l,[o.w,[2,c.y]]),o.Ab(4608,z,z,[d.a]),o.Ab(4608,F,F,[d.a]),o.Ab(4608,R,R,[d.a]),o.Ab(4608,B.p,B.p,[]),o.Ab(1073742336,c.b,c.b,[]),o.Ab(1073742336,a.p,a.p,[[2,a.v],[2,a.m]]),o.Ab(1073742336,D,D,[]),o.Ab(1073742336,B.n,B.n,[]),o.Ab(1073742336,B.d,B.d,[]),o.Ab(1073742336,q.a,q.a,[]),o.Ab(1073742336,e,e,[]),o.Ab(1024,a.k,function(){return[[{path:"",component:h,resolve:{albums:R},data:j},{path:":id",component:P,resolve:{photos:z,album:F},data:E}]]},[])])})},qa0Y:function(n,l,t){"use strict";t.d(l,"a",function(){return u});var o=t("CcnG"),e=t("IvsF"),u=(t("nqBZ"),function(){function n(n,l,t){this.route=n,this.componentRef=l,this.securityService=t,this.isActivated=!1,this.showAlret=!1,this.isShow=!1,this.isSimpleConfirm=!1,this.canBeDeleted=!0,this.canBeEdited=!0,this.canBeCreated=!0,this.item=null,this.create=new o.n,this.edit=new o.n,this.remove=new o.n,this.activatedControls=new o.n}return n.prototype.ngOnInit=function(){var n=this;if(this.route.snapshot.data.groups){var l=this.route.snapshot.data.groups;l&&l.includes(e.a.administrator)&&(this.isShow=!0)}else this.securityService.getCurrentUserGroups().subscribe(function(l){l&&l.includes(e.a.administrator)&&(n.isShow=!0)})},n.prototype.mouseLeave=function(){this.isActivated=!1},n.prototype.onClick=function(n){this.isActivated&&!this.componentRef.nativeElement.contains(n.target)&&this.closeControls(n)},n.prototype.handleCreate=function(n){n.stopPropagation(),this.closeControls(n),this.create.emit()},n.prototype.handleEdit=function(n){n.stopPropagation(),this.closeControls(n),this.edit.emit(this.item)},n.prototype.handleRemove=function(n){n.stopPropagation(),this.closeControls(n),this.remove.emit(this.item)},n.prototype.toggleAlert=function(n){n.stopPropagation(),this.isSimpleConfirm?window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442?")&&this.handleRemove(n):this.showAlret=!this.showAlret},n.prototype.closeControls=function(n){n.stopPropagation(),this.showAlret=!1,this.isActivated=!1,this.activatedControls.emit(this.isActivated)},n.prototype.openControls=function(n){n.stopPropagation(),this.showAlret=!1,this.isActivated=!0,this.activatedControls.emit(this.isActivated)},n}())}}]);