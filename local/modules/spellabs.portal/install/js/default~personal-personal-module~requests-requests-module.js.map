{"version":3,"sources":["webpack:///./src/app/requests/components/my-requests/my-requests.component.html","webpack:///./src/app/requests/components/my-requests/my-requests.component.scss","webpack:///./src/app/requests/components/my-requests/my-requests.component.ts","webpack:///./src/app/requests/components/requests-modal-form/requests-modal-form.component.html","webpack:///./src/app/requests/components/requests-modal-form/requests-modal-form.component.scss","webpack:///./src/app/requests/components/requests-modal-form/requests-modal-form.component.ts","webpack:///./src/app/requests/components/requests-page/requests-page.component.html","webpack:///./src/app/requests/components/requests-page/requests-page.component.scss","webpack:///./src/app/requests/components/requests-page/requests-page.component.ts","webpack:///./src/app/requests/components/requests-to-execute/requests-to-execute.component.html","webpack:///./src/app/requests/components/requests-to-execute/requests-to-execute.component.scss","webpack:///./src/app/requests/components/requests-to-execute/requests-to-execute.component.ts","webpack:///./src/app/requests/requests-routing.module.ts","webpack:///./src/app/requests/requests.module.ts","webpack:///./src/app/requests/services/requests-executors/requests-executors.resolver.ts","webpack:///./src/app/requests/services/requests-executors/requests-executors.service.ts","webpack:///./src/app/requests/services/requests-groups/requests-groups.resolver.ts","webpack:///./src/app/requests/services/requests-groups/requests-groups.service.ts","webpack:///./src/app/requests/services/requests-history/requests-history.service.ts","webpack:///./src/app/requests/services/requests-modal/requests-modal.service.ts","webpack:///./src/app/requests/services/requests-statuses/requests-statuses.resolver.ts","webpack:///./src/app/requests/services/requests-statuses/requests-statuses.service.ts","webpack:///./src/app/requests/services/requests-templates/requests-templates.resolver.ts","webpack:///./src/app/requests/services/requests-templates/requests-templates.service.ts","webpack:///./src/app/requests/services/requests-workflow/requests-workflow.service.ts","webpack:///./src/app/requests/services/requests/requests.service.ts"],"names":[],"mappings":"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","file":"default~personal-personal-module~requests-requests-module.js","sourcesContent":["module.exports = \"<div>\\n  <div class=\\\"l-requests__empty\\\" *ngIf=\\\"requests == null || requests.length === 0\\\">\\n    <div class=\\\"text\\\">\\n      В настоящий момент у Вас нет ни одной активной заявки. <br>\\n      Для создания активной заявки нажмите кнопку «Подать заявку»\\n    </div>\\n  </div>\\n  <div class=\\\"l-requests__table\\\" *ngIf=\\\"requests && requests.length > 0\\\">\\n    <table>\\n      <tr class=\\\"l-requests-table__header\\\">\\n        <th (click)=\\\"sortByType()\\\">\\n          Тип заявки\\n        </th>\\n        <th (click)=\\\"sortById()\\\" class=\\\"sort\\\" [ngClass]=\\\"{'top' : sortField === 'Id' && sortOrder}\\\">\\n          № заявки\\n        </th>\\n        <th (click)=\\\"sortByCreated()\\\">Дата отправки</th>\\n        <th colspan=\\\"3\\\">\\n          Статус\\n        </th>\\n      </tr>\\n      <tr class=\\\"l-requests-table__item\\\" *ngFor=\\\"let item of requests\\\" (click)=\\\"goTo(item)\\\">\\n        <td>\\n          {{item.type}}\\n        </td>\\n        <td>\\n          {{item.id}}\\n        </td>\\n        <td>\\n          {{item.date}}\\n        </td>\\n        <td [ngClass]=\\\"{'status': true, 'approved' : item.statusCode === 'APPROVE', 'refused': item.statusCode === 'REJECT'}\\\">\\n            {{item.statusTitle || 'На согласовании'}}\\n            <i (click)=\\\"toggleInfo($event, infoRef)\\\" #infoRef class=\\\"icon-info\\\" *ngIf=\\\"item.statusCode === 'REJECT'\\\">\\n              i\\n              <div class=\\\"refuse-reason\\\">\\n                <div class=\\\"title\\\">Причина отказа</div>\\n                <div class=\\\"close\\\" (click)=\\\"toggleInfo($event, infoRef, true)\\\"></div>\\n                <div class=\\\"text\\\">\\n                  {{item.reason}}\\n                </div>\\n              </div>\\n            </i>\\n          </td>\\n        <td class=\\\"controls\\\">\\n          <div class=\\\"control\\\" (click)=\\\"$event.stopPropagation(); copy(item)\\\">\\n            <input type=\\\"button\\\" class=\\\"btn-view\\\">\\n          </div>\\n        </td>\\n      </tr>\\n    </table>\\n    <div class=\\\"l-requests__navigation\\\">\\n      <input type=\\\"button\\\" value=\\\"В начало\\\" class=\\\"go-to-start\\\" (click)=\\\"hasPrev && load()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n      <input type=\\\"button\\\" class=\\\"go-to-left\\\" (click)=\\\"getPrev()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n      <input type=\\\"button\\\" class=\\\"go-to-right\\\" (click)=\\\"getNext()\\\" [class.disabled]=\\\"!hasNext\\\" />\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-requests__empty {\\n  position: relative;\\n  min-height: 550px;\\n  background-image: url(/assets/banners/translom-empty.svg);\\n  background-position: right bottom;\\n  background-size: 500px 500px;\\n  background-repeat: no-repeat;\\n  box-sizing: border-box; }\\n\\n.l-requests__empty .text {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    width: 35%;\\n    font-size: 22px;\\n    color: #05050571;\\n    -webkit-transform: translate(-50%, -50%);\\n        -ms-transform: translate(-50%, -50%);\\n            transform: translate(-50%, -50%); }\\n\\n.l-requests__table {\\n  position: relative;\\n  padding-right: 45px;\\n  padding-left: 26px; }\\n\\n.l-requests__table:before {\\n    content: '';\\n    position: absolute;\\n    top: 25px;\\n    left: 0;\\n    width: 100%;\\n    height: 1px;\\n    background-color: #e4e4e4; }\\n\\n.l-requests__table table {\\n    border-collapse: collapse;\\n    width: 100%;\\n    font-size: 16px;\\n    color: #070606;\\n    line-height: 19px; }\\n\\n.l-requests__table table .l-requests-table__header th {\\n      cursor: pointer;\\n      text-align: left;\\n      box-sizing: border-box;\\n      padding-bottom: 8px;\\n      padding-left: 20px;\\n      color: #768692; }\\n\\n.l-requests__table table .l-requests-table__header th.sort:after {\\n        content: '';\\n        width: 14px;\\n        height: 14px;\\n        background-image: url(/assets/icons/requests/icon-sort-gray.svg);\\n        background-repeat: no-repeat;\\n        background-size: cover;\\n        display: inline-block; }\\n\\n.l-requests__table table .l-requests-table__header th.sort.top::after {\\n        -webkit-transform: rotate(180deg);\\n            -ms-transform: rotate(180deg);\\n                transform: rotate(180deg); }\\n\\n.l-requests__table table .l-requests-table__item {\\n      cursor: pointer; }\\n\\n.l-requests__table table .l-requests-table__item.no-status {\\n        font-weight: 600; }\\n\\n.l-requests__table table .l-requests-table__item:nth-child(odd) {\\n        background-color: #f7f7f7; }\\n\\n.l-requests__table table .l-requests-table__item td:first-child {\\n        width: 20%; }\\n\\n.l-requests__table table .l-requests-table__item td {\\n        position: relative;\\n        width: 15%;\\n        box-sizing: border-box;\\n        padding-bottom: 23px;\\n        padding-top: 23px;\\n        padding-left: 20px;\\n        border-bottom: 1px solid #e4e4e4; }\\n\\n.l-requests__table table .l-requests-table__item td.approved {\\n          color: #078916; }\\n\\n.l-requests__table table .l-requests-table__item td.refused {\\n          color: #ee2737; }\\n\\n.l-requests__table table .l-requests-table__item td.controls {\\n          padding-bottom: 0px;\\n          width: 240px;\\n          padding-top: 0px; }\\n\\n.l-requests__table table .l-requests-table__item td.controls .control {\\n            width: 40px;\\n            height: 40px;\\n            margin-right: 15px;\\n            display: none; }\\n\\n.l-requests__table table .l-requests-table__item:hover {\\n        background-color: #f7f7f7; }\\n\\n.l-requests__table table .l-requests-table__item:hover .controls .control {\\n          display: inline-block; }\\n\\n.l-requests__table table.approve .btn-view {\\n      display: none; }\\n\\n.l-requests__table table.view .btn-approve,\\n    .l-requests__table table.view .btn-refuse {\\n      display: none; }\\n\\n.btn-view,\\n.btn-approve,\\n.btn-refuse {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 20px;\\n  border: 0;\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-size: 20px 20px;\\n  background-color: #ffffff !important; }\\n\\n.btn-view {\\n  background-image: url(/assets/icons/icon-view-black.svg); }\\n\\n.btn-approve {\\n  background-image: url(/assets/icons/icon-approve-black.svg); }\\n\\n.btn-refuse {\\n  background-image: url(/assets/icons/icon-cross-black.svg); }\\n\\n.l-requests__navigation {\\n  margin-top: 80px;\\n  text-align: center; }\\n\\n.l-requests__navigation .go-to-start,\\n  .l-requests__navigation .go-to-left,\\n  .l-requests__navigation .go-to-right {\\n    margin: 0;\\n    padding: 0;\\n    border: none;\\n    min-width: 0;\\n    vertical-align: middle;\\n    cursor: pointer; }\\n\\n.l-requests__navigation .go-to-start {\\n    color: #768692;\\n    font-size: 18px;\\n    background: none;\\n    margin-right: 35px; }\\n\\n.l-requests__navigation .go-to-left,\\n  .l-requests__navigation .go-to-right {\\n    width: 50px;\\n    height: 50px;\\n    background-color: #768692;\\n    background-size: 27px 27px;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-image: url(/assets/icons/icon-arrow-right-white-thin.svg); }\\n\\n.l-requests__navigation .go-to-left {\\n    -webkit-transform: rotate(180deg);\\n        -ms-transform: rotate(180deg);\\n            transform: rotate(180deg);\\n    margin-right: 25px; }\\n\\n.l-requests__navigation .disabled {\\n    opacity: 0.4; }\\n\\n.icon-info {\\n  display: inline-block;\\n  font-style: normal;\\n  width: 20px;\\n  height: 20px;\\n  font-size: 14px;\\n  line-height: 20px;\\n  color: #fff;\\n  background-color: #768692;\\n  border-radius: 100%;\\n  text-align: center;\\n  margin-left: 20px;\\n  position: relative;\\n  cursor: pointer; }\\n\\n.refuse-reason {\\n  display: none;\\n  position: absolute;\\n  top: 45px;\\n  right: -40px;\\n  width: 500px;\\n  background-color: #768692;\\n  color: #fff;\\n  font-size: 16px;\\n  padding: 20px;\\n  padding-bottom: 35px;\\n  box-sizing: border-box;\\n  z-index: 10;\\n  text-align: left; }\\n\\n.open .refuse-reason {\\n    display: block; }\\n\\n.refuse-reason:before {\\n    content: '';\\n    position: absolute;\\n    right: 30px;\\n    top: -20px;\\n    display: block;\\n    width: 0;\\n    height: 0;\\n    border: 20px solid transparent;\\n    border-bottom-color: #768692;\\n    border-top: 0; }\\n\\n.refuse-reason .title {\\n    display: inline-block;\\n    font-weight: bold;\\n    margin-bottom: 15px; }\\n\\n.refuse-reason .close {\\n    width: 15px;\\n    height: 15px;\\n    background-image: url(/assets/icons/icon-close-gray-thin.svg);\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    background-position: center;\\n    float: right;\\n    cursor: pointer; }\\n\"","import { Component, OnInit, NgZone, EventEmitter, Input, Output, ViewChildren, QueryList, ElementRef } from '@angular/core';\n\nimport { IListItemsPage } from 'src/app/services/list-items-service';\nimport { RequestsService } from '../../services/requests/requests.service';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\nimport { Request } from '../../services/requests/request';\nimport { RequestsWorkflowService } from '../../services/requests-workflow/requests-workflow.service';\nimport { RequestsHistory } from '../../services/requests-history/requests-history';\n\ndeclare function openModal(title: string, url: string, callback: any): void;\n\n@Component({\n  selector: 'app-my-requests',\n  templateUrl: './my-requests.component.html',\n  styleUrls: ['./my-requests.component.scss']\n})\nexport class MyRequestsComponent implements OnInit {\n\n  public requests: Request[] = null;\n  public hasPrev = false;\n  public hasNext = false;\n\n  @Input()\n  public reloadEvent = new EventEmitter();\n\n  @Input() count: number;\n  @Output() countChange = new EventEmitter<number>();\n\n  @ViewChildren('infoRef', {read: ElementRef}) infoRefs: QueryList<ElementRef>;\n\n  private sortField = 'Created';\n  private sortOrder = false;\n\n  private page: IListItemsPage<Request> = null;\n  private pages: IListItemsPage<Request>[] = [];\n  private index: number = null;\n  public history: RequestsHistory[] = [];\n\n  constructor(private requestsWorkflowService: RequestsWorkflowService,\n      private sharepointService: SharepointService,\n      private zone: NgZone,\n      private requestsService: RequestsService\n    ) {}\n\n\n  ngOnInit() {\n    this.reloadEvent.subscribe(() => this.load());\n    this.load();\n  }\n\n  setupPage(page: IListItemsPage<Request>) {\n    this.requests = page.items;\n    this.hasNext = page.hasNext;\n    this.hasPrev = this.index > 0;\n    this.history = null;\n    this.requestsWorkflowService.getHistoryForRequests(this.requests).subscribe(\n      (history: RequestsHistory[]) => {\n        this.requests.forEach(r => {\n          const hs = history.filter(h => h.requestId === r.id).sort((a, b) => b.id - a.id);\n          if (hs.length > 0) {\n            r.statusTitle = hs[0].statusTitle;\n            r.statusCode = hs[0].statusCode;\n            r.statusId = hs[0].statusId;\n            r.reason = hs[0].description;\n          }\n        });\n        this.history = history || [];\n      }\n    );\n  }\n\n  load() {\n    this.index = 0;\n    this.pages = [];\n    this.requestsWorkflowService.getRequestsByUserPaged(\n      this.sharepointService.getCurrentUserContext().userId,\n      [[this.sortField, this.sortOrder]])\n      .subscribe((page: IListItemsPage<Request>) => {\n        this.zone.run(() => {\n          this.pages.push(page);\n          this.setupPage(page);\n        });\n    });\n    this.loadCounter();\n  }\n\n  loadCounter() {\n    this.requestsWorkflowService.getNewCountOnDone(\n      this.sharepointService.getCurrentUserContext().userId).subscribe((count: number) => {\n        this.zone.run(() => {\n          this.count = count;\n          this.countChange.emit(count);\n        });\n    });\n  }\n\n  // loadMore() {\n  //   this.page.getNext().subscribe((page: IListItemsPage<Request>) => {\n  //     this.page = page;\n  //     this.requests = page.items;\n  //     this.hasNext = page.hasNext;\n  //     this.pages.push(page);\n  //   });\n  // }\n\n  getNext() {\n    if (this.hasNext) {\n      if (this.index === (this.pages.length - 1)) {\n        this.pages[this.index]\n          .getNext()\n          .subscribe((page: IListItemsPage<Request>) => {\n            this.index++;\n            this.pages.push(page);\n            this.setupPage(page);\n          });\n      } else {\n        this.index++;\n        this.setupPage(this.pages[this.index]);\n      }\n    }\n  }\n\n  getPrev() {\n    this.index--;\n    this.setupPage(this.pages[this.index]);\n  }\n\n  copy(request: Request) {\n    this.requestsWorkflowService.copyRequestToDraft(request.id).subscribe(id => {\n      const url = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n        + `/lists/slDraftRequests/EditForm.aspx?Id=${id}&Source=${encodeURIComponent(window.location.href)}`;\n      openModal(request.type, url, (result: any) => {\n        if (result === 1) {\n          this.requestsWorkflowService.copyRequestFromDraft(id).subscribe(() => {\n            this.load();\n            this.requestsWorkflowService.removeDraft(id);\n          });\n        } else {\n          this.requestsWorkflowService.removeDraft(id);\n        }\n      });\n    });\n  }\n\n  // getPrev() {\n  //   this.index--;\n  //   this.page = this.pages[this.index];\n  //   this.requests = this.page.items;\n  //   this.hasNext = this.page.hasNext;\n  //   this.index > 0 ? this.hasPrev = true : this.hasPrev = false;\n  // }\n\n  filterResults() {\n    if (this.hasPrev) {\n      this.index = 0;\n      this.setupPage(this.pages[this.index]);\n    }\n  }\n\n  goTo(request: Request) {\n    const url = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n      + `/lists/slRequests/DispForm.aspx?Id=${request.id}&Source=${encodeURIComponent(window.location.href)}`;\n    this.requestsService.addLike({id: request.id}).subscribe(\n       () => openModal(request.type, url, () => this.loadCounter()),\n       () => openModal(request.type, url, () => this.loadCounter())\n    );\n  }\n\n  sortByType() {\n    if (this.sortField === 'Title') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Title';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  sortById() {\n    if (this.sortField === 'Id') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Id';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  sortByCreated() {\n    if (this.sortField === 'Created') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Created';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  public toggleInfo(event: Event, infoRef: HTMLElement, close?: boolean) {\n    event.stopPropagation();\n    if (!close) {\n      this.infoRefs.toArray().forEach(e => e.nativeElement.classList.remove('open'));\n      infoRef.classList.add('open');\n    } else {\n      infoRef.classList.remove('open');\n    }\n  }\n}\n","module.exports = \"<div class=\\\"l-requests\\\" *ngIf=\\\"modalIsOpen\\\">\\n  <div class=\\\"l-request__form\\\">\\n    <div class=\\\"l-request-inner\\\">\\n      <div class=\\\"l-request__header\\\">\\n        <div class=\\\"logotype\\\"></div>\\n        <div class=\\\"body\\\">\\n          <div class=\\\"title\\\">\\n            Подать заявку\\n          </div>\\n          <div class=\\\"description\\\">\\n            Пожалуйста, выберите нужную группу заявок\\n          </div>\\n        </div>\\n        <div class=\\\"close\\\">\\n          <input type=\\\"button\\\" class=\\\"btn btn-close || js-button-close-modal\\\" (click)=\\\"modalIsOpen = false\\\" />\\n        </div>\\n      </div>\\n\\n      <div class=\\\"l-request__body\\\">\\n\\n        <ng-container *ngIf=\\\"requestGroupId === null && isGroups\\\">\\n          <div class=\\\"note\\\">Выберите группу заявок</div>\\n          <div class=\\\"l-request-grid\\\">\\n            <div *ngFor=\\\"let item of requestGroups\\\">\\n              <div class=\\\"l-request-tile\\\" (click)=\\\"requestGroupId = item.id\\\">\\n                <div class=\\\"l-request-tile__icon\\\"\\n                  [ngStyle]=\\\"{'background-image': 'url(' + prepareLink(item.url) + ')'}\\\"></div>\\n                <div class=\\\"l-request-tile__title\\\">{{ item.title }}</div>\\n              </div>\\n            </div>\\n          </div>\\n        </ng-container>\\n\\n        <ng-container *ngIf=\\\"requestGroupId != null || isGroups === false\\\">\\n          <div class=\\\"note\\\">Выберите тип заявок</div>\\n          <div class=\\\"l-request-list\\\">\\n            <div class=\\\"l-request-list\\\">\\n              <div *ngFor=\\\"let item of requestTemplates\\\">\\n                <div #requestTemplatesItem class=\\\"l-request-list__item\\\" (click)=\\\"create(item)\\\"\\n                  *ngIf=\\\"item.requestTemplateGroupId == requestGroupId\\\">\\n                  <div class=\\\"logotype\\\" [ngStyle]=\\\"{'background-image': 'url(' + prepareLink(item.url) + ')'}\\\"></div>\\n                  <div class=\\\"title\\\">{{ item.title }}</div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </ng-container>\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-requests {\\n  position: fixed;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background-color: rgba(5, 5, 5, 0.5);\\n  overflow-y: scroll;\\n  z-index: 999; }\\n\\n.is-modal-open .l-requests {\\n    display: block; }\\n\\n.l-requests .l-request__form {\\n    position: absolute;\\n    width: 45%;\\n    background-color: #fff;\\n    left: 50%;\\n    margin-top: 150px;\\n    -webkit-transform: translateX(-50%);\\n        -ms-transform: translateX(-50%);\\n            transform: translateX(-50%);\\n    min-height: 700px; }\\n\\n.l-request-inner {\\n  height: 100%;\\n  width: 100%; }\\n\\n.l-request-inner .l-request__header {\\n    position: relative;\\n    height: 170px;\\n    padding: 40px 50px;\\n    background-color: #DEDFE0;\\n    box-sizing: border-box; }\\n\\n.l-request-inner .l-request__header .logotype {\\n      display: inline-block;\\n      vertical-align: middle;\\n      width: 85px;\\n      height: 85px;\\n      margin-right: 25px;\\n      background-image: url(/assets/icons/icon-request.svg);\\n      background-repeat: no-repeat;\\n      background-size: cover; }\\n\\n.l-request-inner .l-request__header .body {\\n      display: inline-block;\\n      vertical-align: middle;\\n      max-width: calc(100% - 115px); }\\n\\n.l-request-inner .l-request__header .body .title {\\n        color: #050505;\\n        font-size: 34px;\\n        font-weight: bold; }\\n\\n.l-request-inner .l-request__header .body .description {\\n        color: #050505;\\n        font-size: 22px;\\n        line-height: 30px; }\\n\\n.l-request-inner .l-request__header .close {\\n      position: absolute;\\n      top: 30px;\\n      right: 30px; }\\n\\n.l-request-inner .l-request__header .close .btn-close {\\n        background-image: url(/assets/icons/requests/icon-close.svg);\\n        background-repeat: no-repeat; }\\n\\n.l-request-inner .l-request__header .close .btn-close:hover {\\n          background-image: url(/assets/icons/requests/icon-close-active.svg); }\\n\\n.l-request__body {\\n  padding: 30px 50px;\\n  box-sizing: border-box; }\\n\\n.l-request__body .note {\\n    margin-bottom: 35px;\\n    font-size: 16px;\\n    color: #898888; }\\n\\n.l-request__body .l-request-grid {\\n    display: -ms-flexbox;\\n    display: flex;\\n    -ms-flex-wrap: wrap;\\n        flex-wrap: wrap;\\n    -ms-flex-pack: justify;\\n        justify-content: space-between; }\\n\\n.l-request__body .l-request-grid .l-request-tile {\\n      cursor: pointer;\\n      border: 1px solid #DEDFE0;\\n      width: 230px;\\n      height: 230px;\\n      margin-bottom: 30px;\\n      padding: 25px;\\n      box-sizing: border-box; }\\n\\n.l-request__body .l-request-grid .l-request-tile .l-request-tile__icon {\\n        width: 50px;\\n        height: 50px;\\n        margin-bottom: 21px;\\n        background-repeat: no-repeat;\\n        background-position: top left; }\\n\\n.l-request__body .l-request-grid .l-request-tile .l-request-tile__title {\\n        font-size: 22px;\\n        color: #000;\\n        line-height: 26px; }\\n\\n.l-request__body .l-request-grid .l-request-tile:hover {\\n        background-color: #F7F7F7; }\\n\\n.l-request__body .l-request-list {\\n    margin-bottom: 45px; }\\n\\n.l-request__body .l-request-list .l-request-list__item {\\n      margin-bottom: 20px; }\\n\\n.l-request__body .l-request-list .l-request-list__item .logotype {\\n        position: relative;\\n        display: inline-block;\\n        height: 60px;\\n        width: 60px;\\n        margin-right: 20px;\\n        vertical-align: middle;\\n        background-position: 0 0;\\n        background-size: cover;\\n        background-repeat: no-repeat;\\n        background-color: #DEDFE0;\\n        border-radius: 50%; }\\n\\n.l-request__body .l-request-list .l-request-list__item .title {\\n        display: inline-block;\\n        vertical-align: middle;\\n        width: calc(100% - 80px);\\n        font-size: 22px;\\n        color: #000000;\\n        box-sizing: border-box;\\n        cursor: pointer; }\\n\\n.l-request__body .l-request-list .l-request-list__item.active .logotype {\\n        background-color: #EE2737; }\\n\\n.l-request__body .l-request-list .l-request-list__item.active .title {\\n        color: #EE2737; }\\n\\n.l-request__body .l-request-list .l-request-list__item:hover .logotype, .l-request__body .l-request-list .l-request-list__item.is-current-item .logotype {\\n        background-color: #EE2737;\\n        background-position: 100% 0; }\\n\\n.l-request__body .l-request-list .l-request-list__item:hover .title, .l-request__body .l-request-list .l-request-list__item.is-current-item .title {\\n        color: #EE2737; }\\n\"","import { Component, OnInit, OnDestroy, ElementRef, ViewChildren,\n  QueryList, HostListener, Input, Output, EventEmitter } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { RequestsModalService } from '../../services/requests-modal/requests-modal.service';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\nimport { RequestsGroup } from '../../services/requests-groups/requests-group';\nimport { RequestsTemplate } from '../../services/requests-templates/requests-template';\n\ndeclare function openModal(title: string, url: string, callback: any): void;\n\n@Component({\n  selector: 'app-requests-modal-form',\n  templateUrl: './requests-modal-form.component.html',\n  styleUrls: ['./requests-modal-form.component.scss']\n})\nexport class RequestsModalFormComponent implements OnInit, OnDestroy {\n\n  private modalSubscribe: Subscription = null;\n  public modalIsOpen = false;\n  public requestGroupId: number = null;\n  public requestGroups: RequestsGroup[] = null;\n  public requestTemplates: RequestsTemplate[] = null;\n  @Input()\n  public isGroups = true;\n  @Output()\n  public load = new EventEmitter();\n\n  @ViewChildren('requestTemplatesItem', { read: ElementRef })\n  requestTemplatesItem: QueryList<ElementRef>;\n\n  constructor(private requestsModalService: RequestsModalService,\n      private sharepointService: SharepointService,\n      private route: ActivatedRoute\n    ) { }\n\n  ngOnInit() {\n    this.modalSubscribe = this.requestsModalService.modalIsOpen.subscribe(value => {\n      this.requestGroupId = null;\n      this.modalIsOpen = value;\n    });\n    this.requestGroups = this.route.snapshot.data.groups;\n    this.requestTemplates = this.route.snapshot.data.templates;\n  }\n\n  ngOnDestroy(): void {\n    if (this.modalSubscribe != null) {\n      this.modalSubscribe.unsubscribe();\n    }\n  }\n\n  @HostListener('document:click', ['$event'])\n  click(el) {\n    this.requestTemplatesItem.toArray().forEach(element => {\n      if (element.nativeElement.contains(el.target)) {\n        element.nativeElement.className = 'l-request-list__item is-current-item';\n      }\n    });\n  }\n\n  create(template: RequestsTemplate) {\n    if (template.externalLink != null) {\n      window.location.href = template.externalLink;\n    } else {\n      const url = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n      + `/lists/slRequests/NewForm.aspx?ContentTypeId=${template.contentType}&Source=${encodeURIComponent(window.location.href)}`;\n      openModal(template.title, url, () => this.load.emit());\n      this.modalIsOpen = false;\n    }\n  }\n\n  toggleActiveItem() {\n    this.requestTemplatesItem.toArray().forEach(element => {\n      element.nativeElement.className = 'l-request-list__item';\n    });\n  }\n\n  public prepareLink(link: string) {\n    return this.prepareBackgroundUrl(link);\n  }\n\n  public prepareBackgroundUrl(link: string) {\n    return link && link.replace(/\\(/gi, '\\\\(').replace(/\\)/gi, '\\\\)').replace(/'/gi, '%27') || null;\n  }\n}\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\">\\n      <a [routerLink]=\\\"['/']\\\" routerLinkActive=\\\"router-link-active\\\">Главная</a>\\n    </div>\\n    <div class=\\\"l-breadcrumb\\\">\\n      Заявки\\n    </div>\\n  </div>\\n  <div class=\\\"title\\\">\\n    Заявки\\n  </div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-requests\\\">\\n        <app-tabs [contentBgColor]=\\\"'#fff'\\\" [tabsItemPadding]=\\\"'0px 2.5%'\\\" [tabsContentPadding]=\\\"'2.75% 0px'\\\" (activeTab)=\\\"load()\\\">\\n          <app-tab [tabTitle]=\\\"'Мои заявки'\\\" [active]=\\\"true\\\" [notification]=\\\"countDone\\\">\\n            <app-my-requests [reloadEvent]=\\\"reloadEvent\\\"  [(count)]=\\\"countDone\\\"></app-my-requests>\\n          </app-tab>\\n          <app-tab [tabTitle]=\\\"'У меня на согласовании'\\\" [notification]=\\\"countUndone\\\">\\n              <app-requests-to-execute [reloadEvent]=\\\"reloadEvent\\\" [(count)]=\\\"countUndone\\\"></app-requests-to-execute>\\n          </app-tab>\\n        </app-tabs>\\n        <input (click)=\\\"openRequestModal()\\\" type=\\\"button\\\" class=\\\"btn-create-request\\\" value=\\\"Подать заявку\\\" />\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"app-modals\\\">\\n    <app-requests-modal-form (load)=\\\"load()\\\"></app-requests-modal-form>\\n  </div>\\n</div>\\n\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-requests {\\n  position: relative;\\n  box-sizing: border-box;\\n  background-color: #f7f7f7; }\\n\\n.l-page-header {\\n  padding-top: 2%;\\n  padding-left: 2.75%; }\\n\\n.l-page-header .title {\\n    position: relative; }\\n\\n.btn-create-request {\\n  position: absolute;\\n  right: 2%;\\n  top: -50px;\\n  height: 50px;\\n  min-width: 0 !important;\\n  padding: 0 25px !important;\\n  font-size: 16px;\\n  font-weight: bold;\\n  color: #fff;\\n  text-transform: uppercase;\\n  background-color: #EE2737 !important;\\n  -webkit-transform: translateY(-50%) !important;\\n      -ms-transform: translateY(-50%) !important;\\n          transform: translateY(-50%) !important;\\n  box-sizing: border-box; }\\n\"","import { Component, EventEmitter } from '@angular/core';\nimport { RequestsModalService } from '../../services/requests-modal/requests-modal.service';\nimport { SidebarService } from 'src/app/services/sidebar/sidebar.service';\n\ndeclare function openModal(title: string, url: string, callback: any): void;\n\n@Component({\n  selector: 'app-requests-page',\n  templateUrl: './requests-page.component.html',\n  styleUrls: ['./requests-page.component.scss']\n})\nexport class RequestsPageComponent {\n\n  public countUndone = 0;\n  public countDone = 0;\n  public reloadEvent = new EventEmitter();\n  private appCustomContainerStyle = {'padding': '0px'};\n\n\n  constructor(private requestsModalService: RequestsModalService,\n      private sidebarService: SidebarService,\n    ) {\n      this.sidebarService.handleSetSettings({ showSidebar: false, bgColor: '#f7f7f7' });\n  }\n\n  public openRequestModal() {\n    this.requestsModalService.openModal();\n  }\n\n  load() {\n    this.reloadEvent.emit();\n  }\n}\n","module.exports = \"<div>\\n  <div class=\\\"l-requests__empty\\\" *ngIf=\\\"requests == null || requests.length === 0\\\">\\n    <div class=\\\"text\\\">\\n      В настоящий момент у Вас нет ни одной активной заявки для согласования.\\n    </div>\\n  </div>\\n  <div class=\\\"l-requests__table\\\" *ngIf=\\\"requests && requests.length > 0\\\">\\n    <table>\\n      <tr class=\\\"l-requests-table__header\\\">\\n        <th (click)=\\\"sortByType()\\\">\\n          Тип заявки\\n        </th>\\n        <th (click)=\\\"sortById()\\\" class=\\\"sort\\\" [ngClass]=\\\"{'top' : sortField === 'Id' && sortOrder}\\\">\\n          № заявки\\n        </th>\\n        <th (click)=\\\"sortByCreated()\\\">Дата отправки</th>\\n        <th (click)=\\\"sortByStatus()\\\" colspan=\\\"3\\\">\\n          Статус\\n        </th>\\n      </tr>\\n      <tr class=\\\"l-requests-table__item\\\" [class.no-status]=\\\"!item.statusId && !isReload\\\" *ngFor=\\\"let item of requests\\\" (click)=\\\"goTo(item)\\\">\\n        <td>\\n          {{item.type}}\\n        </td>\\n        <td>\\n          {{item.id}}\\n        </td>\\n        <td>\\n          {{item.date}}\\n        </td>\\n        <td [ngClass]=\\\"{'status': true, 'approved' : item.statusCode === 'APPROVE', 'refused': item.statusCode === 'REJECT'}\\\">\\n          {{item.statusTitle || 'На согласовании'}}\\n          <i (click)=\\\"toggleInfo($event, infoRef)\\\" #infoRef class=\\\"icon-info\\\" *ngIf=\\\"item.statusCode === 'REJECT'\\\">\\n            i\\n            <div class=\\\"refuse-reason\\\">\\n              <div class=\\\"title\\\">Причина отказа</div>\\n              <div class=\\\"close\\\" (click)=\\\"toggleInfo($event, infoRef, true)\\\"></div>\\n              <div class=\\\"text\\\">\\n                {{item.reason}}\\n              </div>\\n            </div>\\n          </i>\\n        </td>\\n        <td class=\\\"controls\\\">\\n          <div *ngIf=\\\"canDecide(item)\\\">\\n            <div class=\\\"control\\\">\\n              <input type=\\\"button\\\" (click)=\\\"$event.stopPropagation(); approve(item)\\\" class=\\\"btn-approve\\\">\\n            </div>\\n            <div class=\\\"control\\\">\\n              <input type=\\\"button\\\" (click)=\\\"$event.stopPropagation(); refuse(item)\\\" class=\\\"btn-refuse\\\">\\n            </div>\\n          </div>\\n        </td>\\n      </tr>\\n    </table>\\n    <div class=\\\"l-requests__navigation\\\">\\n      <input type=\\\"button\\\" value=\\\"В начало\\\" class=\\\"go-to-start\\\" (click)=\\\"hasPrev && load()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n      <input type=\\\"button\\\" class=\\\"go-to-left\\\" (click)=\\\"getPrev()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n      <input type=\\\"button\\\" class=\\\"go-to-right\\\" (click)=\\\"getNext()\\\" [class.disabled]=\\\"!hasNext\\\" />\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-requests__empty {\\n  position: relative;\\n  min-height: 550px;\\n  background-image: url(/assets/banners/translom-empty.svg);\\n  background-position: right bottom;\\n  background-size: 500px 500px;\\n  background-repeat: no-repeat;\\n  box-sizing: border-box; }\\n\\n.l-requests__empty .text {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    width: 35%;\\n    font-size: 22px;\\n    color: #05050571;\\n    -webkit-transform: translate(-50%, -50%);\\n        -ms-transform: translate(-50%, -50%);\\n            transform: translate(-50%, -50%); }\\n\\n.l-requests__table {\\n  position: relative;\\n  padding-right: 45px;\\n  padding-left: 26px; }\\n\\n.l-requests__table:before {\\n    content: '';\\n    position: absolute;\\n    top: 25px;\\n    left: 0;\\n    width: 100%;\\n    height: 1px;\\n    background-color: #e4e4e4; }\\n\\n.l-requests__table table {\\n    border-collapse: collapse;\\n    width: 100%;\\n    font-size: 16px;\\n    color: #070606;\\n    line-height: 19px; }\\n\\n.l-requests__table table .l-requests-table__header th {\\n      cursor: pointer;\\n      text-align: left;\\n      box-sizing: border-box;\\n      padding-bottom: 8px;\\n      padding-left: 20px;\\n      color: #768692; }\\n\\n.l-requests__table table .l-requests-table__header th.sort:after {\\n        content: '';\\n        width: 14px;\\n        height: 14px;\\n        background-image: url(/assets/icons/requests/icon-sort-gray.svg);\\n        background-repeat: no-repeat;\\n        background-size: cover;\\n        display: inline-block; }\\n\\n.l-requests__table table .l-requests-table__header th.sort.top::after {\\n        -webkit-transform: rotate(180deg);\\n            -ms-transform: rotate(180deg);\\n                transform: rotate(180deg); }\\n\\n.l-requests__table table .l-requests-table__item {\\n      cursor: pointer; }\\n\\n.l-requests__table table .l-requests-table__item.no-status {\\n        font-weight: 600; }\\n\\n.l-requests__table table .l-requests-table__item:nth-child(odd) {\\n        background-color: #f7f7f7; }\\n\\n.l-requests__table table .l-requests-table__item td:first-child {\\n        width: 20%; }\\n\\n.l-requests__table table .l-requests-table__item td {\\n        position: relative;\\n        width: 15%;\\n        box-sizing: border-box;\\n        padding-bottom: 23px;\\n        padding-top: 23px;\\n        padding-left: 20px;\\n        border-bottom: 1px solid #e4e4e4; }\\n\\n.l-requests__table table .l-requests-table__item td.approved {\\n          color: #078916; }\\n\\n.l-requests__table table .l-requests-table__item td.refused {\\n          color: #ee2737; }\\n\\n.l-requests__table table .l-requests-table__item td.controls {\\n          padding-bottom: 0px;\\n          width: 240px;\\n          padding-top: 0px; }\\n\\n.l-requests__table table .l-requests-table__item td.controls .control {\\n            width: 40px;\\n            height: 40px;\\n            margin-right: 15px;\\n            display: none; }\\n\\n.l-requests__table table .l-requests-table__item:hover {\\n        background-color: #f7f7f7; }\\n\\n.l-requests__table table .l-requests-table__item:hover .controls .control {\\n          display: inline-block; }\\n\\n.l-requests__table table.approve .btn-view {\\n      display: none; }\\n\\n.l-requests__table table.view .btn-approve,\\n    .l-requests__table table.view .btn-refuse {\\n      display: none; }\\n\\n.btn-view,\\n.btn-approve,\\n.btn-refuse {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 20px;\\n  border: 0;\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  background-size: 20px 20px;\\n  background-color: #ffffff !important; }\\n\\n.btn-view {\\n  background-image: url(/assets/icons/icon-view-black.svg); }\\n\\n.btn-approve {\\n  background-image: url(/assets/icons/icon-approve-black.svg); }\\n\\n.btn-refuse {\\n  background-image: url(/assets/icons/icon-cross-black.svg); }\\n\\n.l-requests__navigation {\\n  margin-top: 80px;\\n  text-align: center; }\\n\\n.l-requests__navigation .go-to-start,\\n  .l-requests__navigation .go-to-left,\\n  .l-requests__navigation .go-to-right {\\n    margin: 0;\\n    padding: 0;\\n    border: none;\\n    min-width: 0;\\n    vertical-align: middle;\\n    cursor: pointer; }\\n\\n.l-requests__navigation .go-to-start {\\n    color: #768692;\\n    font-size: 18px;\\n    background: none;\\n    margin-right: 35px; }\\n\\n.l-requests__navigation .go-to-left,\\n  .l-requests__navigation .go-to-right {\\n    width: 50px;\\n    height: 50px;\\n    background-color: #768692;\\n    background-size: 27px 27px;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-image: url(/assets/icons/icon-arrow-right-white-thin.svg); }\\n\\n.l-requests__navigation .go-to-left {\\n    -webkit-transform: rotate(180deg);\\n        -ms-transform: rotate(180deg);\\n            transform: rotate(180deg);\\n    margin-right: 25px; }\\n\\n.l-requests__navigation .disabled {\\n    opacity: 0.4; }\\n\\n.icon-info {\\n  display: inline-block;\\n  font-style: normal;\\n  width: 20px;\\n  height: 20px;\\n  font-size: 14px;\\n  line-height: 20px;\\n  color: #fff;\\n  background-color: #768692;\\n  border-radius: 100%;\\n  text-align: center;\\n  margin-left: 20px;\\n  position: relative;\\n  cursor: pointer; }\\n\\n.refuse-reason {\\n  display: none;\\n  position: absolute;\\n  top: 45px;\\n  right: -40px;\\n  width: 500px;\\n  background-color: #768692;\\n  color: #fff;\\n  font-size: 16px;\\n  padding: 20px;\\n  padding-bottom: 35px;\\n  box-sizing: border-box;\\n  z-index: 10;\\n  text-align: left; }\\n\\n.open .refuse-reason {\\n    display: block; }\\n\\n.refuse-reason:before {\\n    content: '';\\n    position: absolute;\\n    right: 30px;\\n    top: -20px;\\n    display: block;\\n    width: 0;\\n    height: 0;\\n    border: 20px solid transparent;\\n    border-bottom-color: #768692;\\n    border-top: 0; }\\n\\n.refuse-reason .title {\\n    display: inline-block;\\n    font-weight: bold;\\n    margin-bottom: 15px; }\\n\\n.refuse-reason .close {\\n    width: 15px;\\n    height: 15px;\\n    background-image: url(/assets/icons/icon-close-gray-thin.svg);\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n    background-position: center;\\n    float: right;\\n    cursor: pointer; }\\n\"","import { Component, OnInit, NgZone, Input, EventEmitter, Output, ViewChildren, QueryList, ElementRef } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { RequestsExecutor } from '../../services/requests-executors/requests-executor';\nimport { IListItemsPage } from 'src/app/services/list-items-service';\nimport { RequestsStatus } from '../../services/requests-statuses/requests-status';\nimport { RequestsService } from '../../services/requests/requests.service';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\nimport { Request } from '../../services/requests/request';\nimport { RequestsWorkflowService } from '../../services/requests-workflow/requests-workflow.service';\nimport { RequestsHistory } from '../../services/requests-history/requests-history';\nimport { NotificationsService } from 'src/app/shared/services/notifications/notifications.service';\n\ndeclare function openModal(title: string, url: string, callback: any): void;\n\n@Component({\n  selector: 'app-requests-to-execute',\n  templateUrl: './requests-to-execute.component.html',\n  styleUrls: ['./requests-to-execute.component.scss']\n})\nexport class RequestsToExecuteComponent implements OnInit {\n\n  public requests: Request[] = null;\n  public executors: RequestsExecutor[] = null;\n  public statuses: RequestsStatus[] = null;\n  public hasPrev = false;\n  public hasNext = false;\n\n  private sortField = 'Created';\n  private sortOrder = false;\n\n  private pages: IListItemsPage<Request>[] = [];\n  private index: number = null;\n  public isReload: boolean = false;\n  public history: RequestsHistory[] = [];\n\n  @Input() public reloadEvent = new EventEmitter();\n\n  @Input() count: number;\n  @Output() countChange = new EventEmitter<number>();\n\n  @ViewChildren('infoRef', {read: ElementRef}) infoRefs: QueryList<ElementRef>;\n\n  constructor(private sharepointService: SharepointService,\n      private zone: NgZone,\n      private route: ActivatedRoute,\n      private requestsWorkflowService: RequestsWorkflowService,\n      private requestsService: RequestsService,\n      private notificationsService: NotificationsService\n    ) {}\n\n  ngOnInit() {\n    this.reloadEvent.subscribe(() => { this.load(); });\n    this.executors = this.route.snapshot.data.executors;\n    this.statuses = this.route.snapshot.data.statuses;\n    if (this.executors.length > 0) {\n      this.load();\n    }\n  }\n\n  load() {\n    this.index = 0;\n    this.pages = [];\n    this.isReload = true;\n    this.requestsWorkflowService.getRequestsByExecutorsPaged(\n      this.executors,\n      [[this.sortField, this.sortOrder]])\n      .subscribe((page: IListItemsPage<Request>) => {\n        this.zone.run(() => {\n          this.pages.push(page);\n          this.setupPage(page);\n        });\n    });\n    this.loadCounter();\n  }\n\n  setupPage(page: IListItemsPage<Request>) {\n    this.requests = page.items;\n    this.hasNext = page.hasNext;\n    this.hasPrev = this.index > 0;\n    this.history = null;\n    this.requestsWorkflowService.getHistoryForRequests(this.requests).subscribe(\n      (history: RequestsHistory[]) => {\n        this.requests.forEach(r => {\n          const hs = history.filter(h => h.requestId === r.id).sort((a, b) => b.id - a.id);\n          if (hs.length > 0) {\n            r.statusTitle = hs[0].statusTitle;\n            r.statusCode = hs[0].statusCode;\n            r.statusId = hs[0].statusId;\n            r.reason = hs[0].description;\n          }\n        });\n        this.history = history || [];\n        this.isReload = false;\n      }\n    );\n  }\n\n  loadCounter() {\n    this.requestsWorkflowService.getNewCountOnAgreement(this.executors,\n      this.sharepointService.getCurrentUserContext().userId).subscribe((count: number) => {\n          this.zone.run(() => {\n          this.count = count;\n          this.countChange.emit(count);\n        });\n    });\n  }\n\n  getNext() {\n    if (this.hasNext) {\n      if (this.index === (this.pages.length - 1)) {\n        this.pages[this.index]\n          .getNext()\n          .subscribe((page: IListItemsPage<Request>) => {\n            this.index++;\n            this.pages.push(page);\n            this.setupPage(page);\n          });\n      } else {\n        this.index++;\n        this.setupPage(this.pages[this.index]);\n      }\n    }\n  }\n\n  getPrev() {\n    this.index--;\n    this.setupPage(this.pages[this.index]);\n  }\n\n  filterResults() {\n    if (this.hasPrev) {\n      this.index = 0;\n      this.setupPage(this.pages[this.index]);\n    }\n  }\n\n  goTo(request: Request) {\n    const url = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n    + `/lists/slRequests/DispForm.aspx?Id=${request.id}&Source=${encodeURIComponent(window.location.href)}`;\n    this.requestsService.addLike({id: request.id}).subscribe(\n      () => openModal(request.type, url, () => this.loadCounter()),\n      () => openModal(request.type, url, () => this.loadCounter())\n    );\n  }\n\n  sortByType() {\n    if (this.sortField === 'Title') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Title';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  sortByStatus() {\n    if (this.sortField === 'slRequestStatusLookup/Title') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'slRequestStatusLookup/Title';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  sortById() {\n    if (this.sortField === 'Id') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Id';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  canDecide(request: Request) {\n    let result = false;\n    if (this.history != null) {\n     result = this.history\n      .filter((h: RequestsHistory) => h.requestId === request.id)\n      .every((h: RequestsHistory) => h.statusCode === 'ON_AGREEMENT');\n    }\n    return result;\n  }\n\n  sortByCreated() {\n    if (this.sortField === 'Created') {\n      this.sortOrder = !this.sortOrder;\n    } else {\n      this.sortField = 'Created';\n      this.sortOrder = true;\n    }\n    this.load();\n  }\n\n  approve(request: Request) {\n    if (confirm('Подтвердите согласование')) {\n      this.requestsWorkflowService.approve(request).subscribe(() => {\n        this.notificationsService.success('Заявка согласована');\n        this.load();\n      });\n    }\n  }\n\n  refuse(request: Request) {\n    if (confirm('Подтвердите отказ')) {\n      const reason = prompt('Укажите причину');\n      this.requestsWorkflowService.reject(request, reason).subscribe(() => {\n        this.notificationsService.success('Заявка отклонена');\n        this.load();\n      });\n    }\n  }\n\n  isApproved(request: Request): boolean {\n    return request.statusCode === 'APPROVE';\n  }\n\n  isRejected(request: Request): boolean {\n    return request.statusCode === 'REJECT';\n  }\n\n  public toggleInfo(event: Event, infoRef: HTMLElement, close?: boolean) {\n    event.stopPropagation();\n    if (!close) {\n      this.infoRefs.toArray().forEach(e => e.nativeElement.classList.remove('open'));\n      infoRef.classList.add('open');\n    } else {\n      infoRef.classList.remove('open');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RequestsPageComponent } from './components/requests-page/requests-page.component';\nimport { RequestsGroupsResolver } from './services/requests-groups/requests-groups.resolver';\nimport { RequestsExecutorsResolver } from './services/requests-executors/requests-executors.resolver';\nimport { RequestsStatusesResolver } from './services/requests-statuses/requests-statuses.resolver';\nimport { RequestsTemplatesResolver } from './services/requests-templates/requests-templates.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RequestsPageComponent,\n    resolve: { groups: RequestsGroupsResolver, executors: RequestsExecutorsResolver,\n      statuses: RequestsStatusesResolver, templates: RequestsTemplatesResolver },\n    data: { animation: 'fadeAnimation', title: 'Заявки' }\n  }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    providers: [ RequestsGroupsResolver, RequestsExecutorsResolver, RequestsStatusesResolver, RequestsTemplatesResolver ],\n    exports: [RouterModule]\n})\nexport class RequestsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport { RequestsPageComponent } from './components/requests-page/requests-page.component';\nimport { RequestsModalFormComponent } from './components/requests-modal-form/requests-modal-form.component';\nimport { RequestsRoutingModule } from './requests-routing.module';\nimport { MyRequestsComponent } from './components/my-requests/my-requests.component';\nimport { RequestsToExecuteComponent } from './components/requests-to-execute/requests-to-execute.component';\n\n@NgModule({\n  declarations: [\n    RequestsPageComponent,\n    RequestsModalFormComponent,\n    MyRequestsComponent,\n    RequestsToExecuteComponent\n  ],\n  imports: [\n    CommonModule,\n    RequestsRoutingModule,\n    SharedModule,\n    FormsModule\n  ],\n  exports: [\n    RequestsModalFormComponent\n  ]\n})\nexport class RequestsModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RequestsExecutor } from './requests-executor';\nimport { RequestsExecutorsService } from './requests-executors.service';\n\n@Injectable()\nexport class RequestsExecutorsResolver implements Resolve<RequestsExecutor[]> {\n\n  constructor(private requestsExecutorService: RequestsExecutorsService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RequestsExecutor[]> {\n    return this.requestsExecutorService.getItems({top: 5000});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ListItemsService } from 'src/app/services/list-items-service';\nimport { RequestsExecutor } from './requests-executor';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsExecutorsService extends ListItemsService<RequestsExecutor> {\n\n  getListTitle(): string {\n    return 'Исполнители для заявок';\n  }\n\n  getListRelativePath(): string {\n    return 'lists/slRequestsExecutors';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slContentType';\n  }\n\n  getExpand(): string {\n    return '';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return null;\n  }\n\n  getTop(): number {\n    return 5000;\n  }\n\n  getCachingOptions(): import('@pnp/odata').ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): RequestsExecutor {\n    const request: RequestsExecutor = {\n      id: item.Id,\n      title: item.Title,\n      contentType: item.slContentType\n    };\n    return request;\n  }\n\n  convertEntityToListItem(entity: RequestsExecutor) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): RequestsExecutor[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RequestsGroupsService } from './requests-groups.service';\nimport { RequestsGroup } from './requests-group';\n\n@Injectable()\nexport class RequestsGroupsResolver implements Resolve<RequestsGroup[]> {\n  constructor(private requestsGroupsService: RequestsGroupsService) {}\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RequestsGroup[]> {\n    return this.requestsGroupsService.getItems({top: 5000});\n  }\n}\n","import { RequestsGroup } from './requests-group';\nimport { Injectable } from '@angular/core';\nimport { ICachingOptions } from '@pnp/odata';\n\nimport { ListItemsService } from 'src/app/services/list-items-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsGroupsService extends ListItemsService<RequestsGroup> {\n\n  getListRelativePath(): string {\n    return '';\n  }\n\n  getListTitle(): string {\n    return 'Группы заявок';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slImage,Created';\n  }\n\n  getExpand(): string {\n    return 'AttachmentFiles';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Created', false]];\n  }\n\n  getTop(): number {\n    return 50;\n  }\n\n  getCachingOptions(): ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): RequestsGroup {\n    const requestGroup: RequestsGroup = {\n      id: item.Id,\n      title: item.Title,\n      url: item.slImage\n    };\n    return requestGroup;\n  }\n\n  convertEntityToListItem(entity: RequestsGroup) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): RequestsGroup[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RequestsHistory } from './requests-history';\nimport { ListItemsService } from 'src/app/services/list-items-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsHistoryService extends ListItemsService<RequestsHistory> {\n\n  getListTitle(): string {\n    return 'История заявок';\n  }\n\n  getListRelativePath(): string {\n    return 'lists/slRequestsHistory';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slRequestLookup/Id,slRequestLookup/Title,slRequestHistoryDescription,'\n      + 'slRequestStatusLookup/Id,slRequestStatusLookup/Title,slRequestStatusLookup/slCode';\n  }\n\n  getExpand(): string {\n    return 'slRequestLookup,slRequestStatusLookup';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Id', true]];\n  }\n\n  getTop(): number {\n    return 5000;\n  }\n\n  getCachingOptions(): import('@pnp/odata').ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): RequestsHistory {\n    const entity: RequestsHistory = {\n      id: item.Id,\n      title: item.Title,\n      description: item.slRequestHistoryDescription\n    };\n    if (item.slRequestLookup) {\n      entity.requestId = item.slRequestLookup.Id;\n    }\n    if (item.slRequestStatusLookup) {\n      entity.statusId = item.slRequestStatusLookup.Id;\n      entity.statusTitle = item.slRequestStatusLookup.Title;\n      entity.statusCode = item.slRequestStatusLookup.slCode;\n    }\n    return entity;\n  }\n\n  convertEntityToListItem(entity: RequestsHistory) {\n    const item = {\n      Id: entity.id,\n      Title: entity.title,\n      slRequestLookupId: entity.requestId,\n      slRequestStatusLookupId: entity.statusId,\n      slRequestHistoryDescription: entity.description\n    };\n    return item;\n  }\n\n  getMockItems(): RequestsHistory[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n","import { Injectable, Output, EventEmitter } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsModalService {\n\n  @Output() modalIsOpen: EventEmitter<boolean> = new EventEmitter();\n\n  public openModal() {\n    this.modalIsOpen.emit(true);\n  }\n\n  public closeModal() {\n    this.modalIsOpen.emit(false);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RequestsStatusesService } from './requests-statuses.service';\nimport { RequestsStatus } from './requests-status';\n\n@Injectable()\nexport class RequestsStatusesResolver implements Resolve<RequestsStatus[]> {\n\n  constructor(private requestsStatusesService: RequestsStatusesService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RequestsStatus[]> {\n    return this.requestsStatusesService.getItems({top: 5000});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { RequestsStatus } from './requests-status';\nimport { ListItemsService } from 'src/app/services/list-items-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsStatusesService extends ListItemsService<RequestsStatus> {\n\n  getListTitle(): string {\n    return 'Статусы заявок';\n  }\n\n  getListRelativePath(): string {\n    return 'lists/slRequestStatuses';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slCode';\n  }\n\n  getExpand(): string {\n    return null;\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return null;\n  }\n\n  getTop(): number {\n    return 5000;\n  }\n\n  getCachingOptions(): import('@pnp/odata').ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): RequestsStatus {\n    const entity: RequestsStatus = {\n      id: item.Id,\n      title: item.Title,\n      code: item.slCode\n    };\n    return entity;\n  }\n\n  convertEntityToListItem(entity: RequestsStatus) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): RequestsStatus[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { RequestsTemplatesService } from './requests-templates.service';\nimport { RequestsTemplate } from './requests-template';\n\n@Injectable()\nexport class RequestsTemplatesResolver implements Resolve<RequestsTemplate[]> {\n  constructor(private requestsTemplatesService: RequestsTemplatesService) {}\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<RequestsTemplate[]> {\n    return this.requestsTemplatesService.getItems({top: 5000});\n  }\n}\n","import { RequestsTemplate } from './requests-template';\nimport { Injectable } from '@angular/core';\nimport { ICachingOptions } from '@pnp/odata';\nimport { ListItemsService } from 'src/app/services/list-items-service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsTemplatesService extends ListItemsService<RequestsTemplate> {\n\n  getListRelativePath(): string {\n    return '';\n  }\n\n  getListTitle(): string {\n    return 'Шаблоны заявок';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slImage,slRequestGroupLookup/Id,slContentType,Created,slExternalLink';\n  }\n\n  getExpand(): string {\n    return 'slRequestGroupLookup';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Created', false]];\n  }\n\n  getTop(): number {\n    return 200;\n  }\n\n  getCachingOptions(): ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): RequestsTemplate {\n    const requestTemplate: RequestsTemplate = {\n      id: item.Id,\n      title: item.Title,\n      url: item.slImage,\n      requestTemplateGroupId: null,\n      contentType: item.slContentType,\n      externalLink: item.slExternalLink\n    };\n\n    if (item.slRequestGroupLookup != null) {\n      requestTemplate.requestTemplateGroupId = item.slRequestGroupLookup.Id;\n    }\n\n    return requestTemplate;\n  }\n\n  convertEntityToListItem(entity: RequestsTemplate) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): RequestsTemplate[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, from } from 'rxjs';\nimport { RequestsStatusesService } from '../requests-statuses/requests-statuses.service';\nimport { RequestsHistoryService } from '../requests-history/requests-history.service';\nimport { RequestsStatus } from '../requests-statuses/requests-status';\nimport { RequestsHistory } from '../requests-history/requests-history';\nimport { Request } from '../requests/request';\nimport { flatMap, map } from 'rxjs/operators';\nimport { RequestsService } from '../requests/requests.service';\nimport { RequestsExecutor } from '../requests-executors/requests-executor';\nimport { IListItemsPage } from 'src/app/services/list-items-service';\nimport { sp } from '@pnp/sp';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsWorkflowService {\n\n  constructor(private requestsHistoryService: RequestsHistoryService,\n    private requestsService: RequestsService,\n    private requestsStatusesService: RequestsStatusesService\n    ) { }\n\n\n  getNewCountOnAgreement(executors: RequestsExecutor[], userId: number): Observable<number> {\n    let filter = '';\n    for (const executor of executors) {\n      filter += `(ContentType eq'${executor.title}') or `;\n    }\n    filter = filter.slice(0, -4);\n    return this.requestsService.getItems({\n      top: 5000,\n      filter: `(${filter}) and (slRequestStatusLookup/slCode eq \\'ON_AGREEMENT\\' or slRequestStatusLookup/slCode eq null) and LikedBy/Id ne ${userId}`\n    }).pipe(map((items: Request[]) => items.length));\n  }\n\n  getNewCountOnDone(userId: number): Observable<number> {\n    return this.requestsService.getItems({\n      top: 5000,\n      filter: `(Author/Id eq ${userId}) and (slRequestStatusLookup/slCode ne \\'ON_AGREEMENT\\' and slRequestStatusLookup/slCode ne null) and (LikedBy/Id ne ${userId})`\n    }).pipe(map((items: Request[]) => items.length));\n  }\n\n  getRequestsByExecutorsPaged(executors: RequestsExecutor[], orderBy: [string, boolean][]): Observable<IListItemsPage<Request>> {\n    let filter = '';\n    for (const executor of executors) {\n      filter += `(ContentType eq'${executor.title}') or `;\n    }\n    filter = filter.slice(0, -4);\n    return this.requestsService.getItemsPaged({\n      top: 10,\n      filter: filter,\n      orderBy: orderBy\n    });\n  }\n\n  getHistoryForRequests(requests: Request[]): Observable<RequestsHistory[]> {\n    let filter = '';\n    for (const request of requests) {\n      filter += `(slRequestLookup/Id eq'${request.id}') or `;\n    }\n    filter = filter.slice(0, -4);\n    return this.requestsHistoryService.getItems({filter: filter});\n  }\n\n  getRequestsByUserPaged(userId: number, orderBy: [string, boolean][]): Observable<IListItemsPage<Request>> {\n    return this.requestsService.getItemsPaged({\n      top: 10,\n      filter: `Author/Id eq ${userId}`,\n      orderBy: orderBy\n    });\n  }\n\n  approve(request: Request): Observable<Request> {\n    return this.requestsStatusesService.getItems({filter: 'slCode eq \\'APPROVE\\''}).pipe(\n      flatMap((statuses: RequestsStatus[]) => {\n        const status: RequestsStatus = statuses[0];\n        const approve: RequestsHistory = {\n          id: undefined,\n          title: `Утверждение заявки №${request.id}`,\n          statusId: status.id,\n          requestId: request.id\n        };\n       return this.requestsHistoryService.createItem(approve);\n      }),\n      map((history: RequestsHistory) => {\n        request.statusId = history.statusId;\n        request.statusTitle = history.statusTitle;\n        return request;\n      })\n    );\n  }\n\n  reject(request: Request, reason: string): Observable<Request> {\n    return this.requestsStatusesService.getItems({filter: 'slCode eq \\'REJECT\\''}).pipe(\n      flatMap((statuses: RequestsStatus[]) => {\n        const status: RequestsStatus = statuses[0];\n        const approve: RequestsHistory = {\n          id: undefined,\n          title: `Оклонение заявки №${request.id}`,\n          statusId: status.id,\n          requestId: request.id,\n          description: reason\n        };\n       return this.requestsHistoryService.createItem(approve);\n      }),\n      map((history: RequestsHistory) => {\n        request.statusId = history.statusId;\n        request.statusTitle = history.statusTitle;\n        return request;\n      })\n    );\n  }\n\n  copyRequestToDraft(id: number): Observable<number> {\n    return from(sp.web.lists.getByTitle('Заявки').items.getById(id).get()).pipe(\n      flatMap(r => {\n        const cr = this.copyRequest(r);\n        return sp.web.lists.getByTitle('Черновики заявок').items.add(cr);\n      }),\n      map(r => r.data.ID)\n    );\n  }\n\n  copyRequestFromDraft(id: number): Observable<number> {\n    return from(sp.web.lists.getByTitle('Черновики заявок').items.getById(id).get()).pipe(\n      flatMap(r => {\n        const cr = this.copyRequest(r);\n        return sp.web.lists.getByTitle('Заявки').items.add(cr);\n      }),\n      map(r => r.data.ID)\n    );\n  }\n\n  removeDraft(id: number): Observable<void> {\n    return from(sp.web.lists.getByTitle('Черновики заявок').items.getById(id).delete());\n  }\n\n  private copyRequest(request: any): Request {\n    const r = JSON.parse(JSON.stringify(request));\n    for (const p in r) {\n      if (r.hasOwnProperty(p)) {\n        if (p.indexOf('OData__') !== -1 || p.indexOf('odata.') !== -1) {\n          r[p] = undefined;\n        }\n        if (r[p] && r[p].length === 0) {\n          r[p] = undefined;\n        }\n      }\n    }\n    r.Id = undefined;\n    r.ID = undefined;\n    r.GUID = undefined;\n    r.LikedByStringId = undefined;\n    r.LikesCount = undefined;\n    r.RatingCount = undefined;\n    r.RatedByStringId = undefined;\n    r.slRequestStatusLookupId = undefined;\n    return r;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Request } from './request';\nimport { ListItemsService } from 'src/app/services/list-items-service';\nimport * as moment from 'moment';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestsService extends ListItemsService<Request> {\n\n  getListTitle(): string {\n    return 'Заявки';\n  }\n\n  getListRelativePath(): string {\n    return '/Lists/slRequests';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,Created,ContentType/Name,ContentType/Id,slRequestStatusLookup/Id,'\n      + 'slRequestStatusLookup/slCode,slRequestStatusLookup/Title,ContentTypeId,Author/Id,'\n      + 'LikedBy/Id,LikesCount';\n  }\n\n  getExpand(): string {\n    return 'ContentType,slRequestStatusLookup,Author,LikedBy';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Created', false]];\n  }\n\n  getTop(): number {\n    return 10;\n  }\n\n  getCachingOptions(): import('@pnp/odata').ICachingOptions {\n    return null;\n  }\n\n  convertListItemToEntity(item: any): Request {\n    const request: Request = {\n      id: item.Id,\n      title: item.Title,\n      date: moment(item.Created).calendar(null, {\n        sameDay: 'DD.MM.YYYY',\n        nextDay: 'DD.MM.YYYY',\n        nextWeek: 'DD.MM.YYYY',\n        lastDay: 'DD.MM.YYYY',\n        lastWeek: 'DD.MM.YYYY',\n        sameElse: 'DD.MM.YYYY'\n      }),\n      requestDepartmentId: null\n    };\n    if (item.slRequestStatusLookup) {\n      request.statusId = item.slRequestStatusLookup.Id;\n      request.statusTitle = item.slRequestStatusLookup.Title;\n      request.statusCode = item.slRequestStatusLookup.slCode;\n    }\n    if (item.ContentType != null) {\n      request.type = item.ContentType.Name;\n    }\n    return request;\n  }\n\n  convertEntityToListItem(entity: Request) {\n    return {\n      Id: entity.id,\n      slRequestStatusLookupId: entity.statusId\n    };\n  }\n\n  getMockItems(): Request[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n}\n"],"sourceRoot":""}