{"version":3,"sources":["webpack:///./src/app/search/components/search-results-page/search-results-page.component.html","webpack:///./src/app/search/components/search-results-page/search-results-page.component.scss","webpack:///./src/app/search/components/search-results-page/search-results-page.component.ts","webpack:///./src/app/search/search-routing.module.ts","webpack:///./src/app/search/search.module.ts","webpack:///./src/app/search/services/search/keywords-search.resolver.ts","webpack:///./src/app/search/services/search/search.service.ts"],"names":[],"mappings":"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","file":"search-search-module.js","sourcesContent":["module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"['/company']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\">Результаты поиска</div>\\n  </div>\\n  <div class=\\\"title\\\">\\n    Результаты поиска\\n  </div>\\n  <div class=\\\"l-page-search\\\">\\n    <div class=\\\"m-search m-search_wide\\\">\\n      <input #searchRef type=\\\"search\\\" [(ngModel)]=\\\"keywords\\\" (keypress)=\\\"onKeypress($event)\\\" />\\n    </div>\\n  </div>\\n  <div class=\\\"l-page-filters\\\">\\n    <app-filters>\\n      <app-filters-item [active]=\\\"type == 0\\\" (change)=\\\"search(0)\\\">\\n        Все\\n      </app-filters-item>\\n      <app-filters-item [active]=\\\"type == 1\\\" (change)=\\\"search(1)\\\">\\n        Новости\\n      </app-filters-item>\\n      <app-filters-item [active]=\\\"type == 2\\\" (change)=\\\"search(2)\\\">\\n        Документы\\n      </app-filters-item>\\n      <app-filters-item [active]=\\\"type == 3\\\" (change)=\\\"search(3)\\\" style=\\\"display: none\\\">\\n        Заявки\\n      </app-filters-item>\\n      <app-filters-item [active]=\\\"type == 4\\\" (change)=\\\"search(4)\\\">\\n        Люди\\n      </app-filters-item>\\n    </app-filters>\\n  </div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-search-result\\\">\\n        <div class=\\\"l-search-filters\\\">\\n          <div class=\\\"m-custom-filters\\\">\\n            <div class=\\\"list\\\" *ngIf=\\\"filtersIsVisible\\\">\\n              <div class=\\\"m-custom-filter\\\">\\n                <div class=\\\"placeholder\\\">За все время</div>\\n                <div class=\\\"control\\\"></div>\\n                <div class=\\\"options\\\">\\n                  <div class=\\\"option\\\">За все время</div>\\n                  <div class=\\\"option\\\">За сегодня</div>\\n                  <div class=\\\"option\\\">За неделю</div>\\n                </div>\\n              </div>\\n              <div class=\\\"m-custom-filter\\\">\\n                <div class=\\\"placeholder\\\">Город</div>\\n                <div class=\\\"control\\\"></div>\\n                <div class=\\\"options\\\">\\n                  <div class=\\\"option\\\">Владимир</div>\\n                  <div class=\\\"option\\\">Москва</div>\\n                  <div class=\\\"option\\\">Сочи</div>\\n                </div>\\n              </div>\\n              <div class=\\\"m-custom-filter\\\">Сбросить настройки</div>\\n            </div>\\n            <div class=\\\"m-custom-filters__logotype\\\" (click)=\\\"handleToggleFilters()\\\" [class.active]=\\\"filtersIsVisible\\\">Инструменты</div>\\n          </div>\\n        </div>\\n        <div class=\\\"l-search-results__items_empty\\\" *ngIf=\\\"result == null || result.PrimarySearchResults.length === 0\\\">\\n          Результаты не найдены\\n        </div>\\n        <div class=\\\"l-search-results__items\\\" *ngIf=\\\"result && result.PrimarySearchResults.length > 0\\\">\\n          <div class=\\\"l-search-results__item\\\" *ngFor=\\\"let item of result.PrimarySearchResults\\\">\\n            <div class=\\\"title\\\">\\n              <a (click)=\\\"goToUrl($event, getLink(item))\\\">{{ item.Title }}</a>\\n            </div>\\n            <div class=\\\"category\\\">\\n              {{getType(item)}}\\n            </div>\\n            <div class=\\\"text\\\" [innerHtml]=\\\"formatDescription(item)\\\">\\n            </div>\\n          </div>\\n        </div>\\n        <!--<div class=\\\"l-search-results__navigation\\\" *ngIf=\\\"result && result.RowCount > 0\\\">\\n          <div class=\\\"m-page-nav\\\">\\n            <input type=\\\"button\\\" class=\\\"prev-page\\\" (click)=\\\"getPrev()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n            <input type=\\\"button\\\" class=\\\"next-page\\\" (click)=\\\"getNext()\\\" [class.disabled]=\\\"!hasNext\\\" />\\n          </div>\\n        </div>-->\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-page-header {\\n  max-width: 800px;\\n  padding-bottom: 0;\\n  box-sizing: border-box; }\\n\\n.l-page-header .title {\\n    margin-bottom: 30px; }\\n\\n.l-page-search {\\n  margin-bottom: 35px; }\\n\\n.l-page-filters {\\n  box-sizing: border-box;\\n  padding-right: 15%;\\n  height: 40px; }\\n\\n.l-search-result {\\n  max-width: 800px;\\n  background-color: #FFF;\\n  box-sizing: border-box;\\n  padding-left: 35px;\\n  padding-right: 55px;\\n  padding-top: 20px;\\n  padding-bottom: 55px; }\\n\\n.l-search-result .l-page-filters {\\n    padding: 0; }\\n\\n.l-search-result .l-page-filters .m-tabs {\\n      width: 500px;\\n      display: inline-block; }\\n\\n.m-search input {\\n  height: 50px;\\n  width: 400px;\\n  border: none;\\n  background-image: url(\\\"/assets/icons/icon-search-red.svg\\\");\\n  background-size: 33px 33px;\\n  background-repeat: no-repeat;\\n  background-position: left 12px center;\\n  padding-left: 50px;\\n  outline: none; }\\n\\n.m-search_wide input {\\n  height: 50px;\\n  width: 100%;\\n  background-position: right 12px center;\\n  padding-right: 50px;\\n  padding-left: 10px;\\n  background-color: #FFFFFF;\\n  font-size: 20px;\\n  box-sizing: border-box; }\\n\\n.m-tabs {\\n  height: 100%;\\n  font-size: 0; }\\n\\n.m-tabs__line {\\n  height: 100%;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-direction: row;\\n      flex-direction: row;\\n  -ms-flex-pack: justify;\\n      justify-content: space-between; }\\n\\n.is-inline .m-tabs__line {\\n    display: -ms-inline-flexbox;\\n    display: inline-flex; }\\n\\n.tab-size-small .m-tabs__line {\\n    -ms-flex-pack: distribute;\\n        justify-content: space-around; }\\n\\n.m-tabs__item {\\n  height: 100%;\\n  display: inline-block;\\n  font-size: 14px;\\n  text-transform: uppercase;\\n  color: #000;\\n  padding: 0 10px;\\n  border: none;\\n  border-bottom: 7px solid transparent;\\n  box-sizing: border-box;\\n  margin: 0;\\n  background-color: transparent;\\n  cursor: pointer; }\\n\\n.tab-size-small .m-tabs__item {\\n    text-transform: initial;\\n    color: #768692;\\n    border-bottom-width: 3px; }\\n\\n.tab-size-small .m-tabs__item.is-current-item {\\n      color: #000;\\n      font-weight: 400;\\n      border-color: #dd1e25; }\\n\\n.m-tabs__item.is-current-item {\\n    font-weight: 600;\\n    border-color: #fda909; }\\n\\n.theme-black .m-tabs__item.is-current-item {\\n      border-color: #da402b; }\\n\\n.theme-yellow .m-tabs__item.is-current-item {\\n      border-color: #ffee00; }\\n\\n.m-tabs__item:focus {\\n    outline: none; }\\n\\n.l-search-results__item {\\n  margin-bottom: 30px; }\\n\\n.l-search-results__item:last-child {\\n    margin-bottom: 0; }\\n\\n.l-search-results__item .title {\\n    margin-bottom: 5px; }\\n\\n.l-search-results__item .title a {\\n      display: block;\\n      display: -webkit-box;\\n      max-height: 56px;\\n      font-size: 18px;\\n      line-height: 28px;\\n      -webkit-line-clamp: 2;\\n      overflow: hidden;\\n      text-overflow: ellipsis;\\n      text-decoration: none;\\n      color: #050505;\\n      font-weight: bold;\\n      cursor: pointer; }\\n\\n.l-search-results__item .category {\\n    position: relative;\\n    box-sizing: border-box;\\n    padding-left: 30px;\\n    font-size: 18px;\\n    color: #768692; }\\n\\n.l-search-results__item .category:before {\\n      content: '';\\n      position: absolute;\\n      display: block;\\n      width: 18px;\\n      left: 0px;\\n      top: 9px;\\n      height: 2px;\\n      background-color: #768692; }\\n\\n.l-search-results__item .text {\\n    font-size: 14px;\\n    line-height: 24px;\\n    display: -webkit-box;\\n    max-height: 48px;\\n    -webkit-line-clamp: 2;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n\\n.l-search-results__item .text a {\\n      color: #dd1e25; }\\n\\n.l-search-results__navigation {\\n  margin-top: 100px;\\n  text-align: center; }\\n\\n.l-search-results__items_empty {\\n  font-size: 16px;\\n  -ms-flex-direction: row;\\n      flex-direction: row;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  padding: 15px 35px;\\n  box-sizing: border-box;\\n  text-align: center; }\\n\\n.m-custom-filters {\\n  position: relative; }\\n\\n.m-custom-filters .list {\\n    height: 40px; }\\n\\n.m-custom-filters .m-custom-filter {\\n    display: inline-block;\\n    margin-right: 50px;\\n    padding-left: 0px;\\n    border-radius: 0px;\\n    color: #768692;\\n    border-width: 0px;\\n    background-color: #ffffff;\\n    font-size: 16px;\\n    cursor: pointer;\\n    position: relative; }\\n\\n.m-custom-filters .m-custom-filter:hover {\\n      color: #000; }\\n\\n.m-custom-filters .m-custom-filter:hover .options {\\n        display: block; }\\n\\n.m-custom-filters .m-custom-filter .placeholder {\\n      display: inline-block;\\n      padding-right: 10px; }\\n\\n.m-custom-filters .m-custom-filter .control {\\n      display: inline-block;\\n      width: 15px;\\n      height: 15px;\\n      background-image: url(/assets/icons/icon-arrow-bottom-gray-solid.svg);\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      background-size: 15px 15px;\\n      z-index: 2; }\\n\\n.m-custom-filters .m-custom-filter .options {\\n      display: none;\\n      position: absolute;\\n      top: -13px;\\n      left: -50px;\\n      border: 1px solid #e7ebef;\\n      background-color: #fff;\\n      min-width: 200px;\\n      padding: 3px;\\n      box-sizing: border-box;\\n      z-index: 1; }\\n\\n.m-custom-filters .m-custom-filter .options .option {\\n        padding: 10px 0 10px 40px;\\n        box-sizing: border-box; }\\n\\n.m-custom-filters .m-custom-filter .options .option:hover {\\n          background-color: #f7f7f7;\\n          background-image: url(/assets/icons/icon-check-black.svg);\\n          background-repeat: no-repeat;\\n          background-size: 12px 10px;\\n          background-position: left 15px center; }\\n\\n.m-custom-filters .m-custom-filters__logotype {\\n    color: #768692;\\n    font-size: 16px;\\n    display: inline-block;\\n    position: absolute;\\n    top: -60px;\\n    right: 0;\\n    line-height: 21px;\\n    padding-left: 48px;\\n    background-position: left 12px center;\\n    background-image: url(\\\"/assets/icons/icon-instruments.svg\\\");\\n    background-repeat: no-repeat;\\n    background-size: 22px 15px;\\n    cursor: pointer; }\\n\\n.m-custom-filters .m-custom-filters__logotype.active {\\n      color: #050505;\\n      background-image: url(\\\"/assets/icons/icon-instruments-active.svg\\\"); }\\n\"","import {\n  Component, OnInit, AfterViewInit, ElementRef, ViewChild, NgZone, OnDestroy\n} from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { fromEvent, from, Subscription } from 'rxjs';\nimport { map, distinctUntilChanged, debounceTime } from 'rxjs/operators';\nimport { SearchResults, SearchResult } from '@pnp/sp';\n\nimport { SearchType, SearchService } from '../../services/search/search.service';\nimport { SidebarService } from 'src/app/services/sidebar/sidebar.service';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\n\n@Component({\n  selector: 'app-search-results-page',\n  templateUrl: './search-results-page.component.html',\n  styleUrls: ['./search-results-page.component.scss']\n})\nexport class SearchResultsPageComponent implements OnInit, AfterViewInit, OnDestroy {\n  public showSidebar: Boolean = false;\n  public type: SearchType = null;\n  public keywords: string = null;\n  public filter: string = null;\n  @ViewChild('searchRef') searchRef: ElementRef;\n\n  public hasPrev = false;\n  public hasNext = false;\n  public result: SearchResults;\n\n  private pages: SearchResults[] = [];\n  private index: number = null;\n  private keySubscription: Subscription = null;\n  private keywordSubscription: Subscription = null;\n  private resultSubscription: Subscription = null;\n\n  constructor(\n    private route: ActivatedRoute,\n    private sidebarService: SidebarService,\n    private sharepointService: SharepointService,\n    private searchService: SearchService,\n    private zone: NgZone,\n    private router: Router\n  ) {\n    this.sidebarService.handleSetSettings({ showSidebar: false, bgColor: '#F7F7F7' });\n  }\n\n  filtersIsVisible: Boolean = false;\n\n  handleToggleFilters() {\n    this.filtersIsVisible = !this.filtersIsVisible;\n  }\n\n  ngOnInit() {\n    this.keywordSubscription = this.route.params\n      .pipe(map(data => data.keywords))\n      .subscribe(keywords => (this.keywords = keywords));\n      this.keywordSubscription = this.route.params\n      .pipe(map(data => data.type))\n      .subscribe(type => {\n        if (type === 'documents') {\n          this.type = SearchType.Documents;\n        } else if (type === 'news') {\n          this.type = SearchType.News;\n        } else if (type === 'people') {\n          this.type = SearchType.People;\n        } else if (type === 'requests') {\n          this.type = SearchType.Requests;\n        } else {\n          this.type = SearchType.Simple;\n        }\n      });\n    this.resultSubscription = this.route.data\n      .pipe(map(data => data.result))\n      .subscribe(result => this.initSearchResults(result));\n  }\n\n  ngAfterViewInit(): void {\n    this.keySubscription = fromEvent(this.searchRef.nativeElement, 'keyup')\n      .pipe(\n        map((e: any) => e.target.value),\n        debounceTime(1000),\n        distinctUntilChanged()\n      ).subscribe((query: string) => {\n        if (query && query !== '') {\n          this.searchService.searchByType(this.type, query);\n        } else {\n          this.pages = [];\n          this.result = null;\n          this.index = 0;\n          this.hasPrev = false;\n          this.hasNext = false;\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (this.keywordSubscription != null) {\n      this.keywordSubscription.unsubscribe();\n    }\n    if (this.keySubscription != null) {\n      this.keySubscription.unsubscribe();\n    }\n    if (this.resultSubscription != null) {\n      this.resultSubscription.unsubscribe();\n    }\n  }\n\n  search(type?: SearchType) {\n    this.type = type;\n    this.searchService.searchByType(this.type, this.keywords)\n      .subscribe(result => this.initSearchResults(result));\n  }\n\n\n  onKeypress(event) {\n    if (event.key === 'Enter') {\n      this.searchService.searchByType(this.type, this.keywords)\n        .subscribe(result => this.initSearchResults(result));\n    }\n  }\n\n  getNext() {\n    if (this.hasNext) {\n      if (++this.index === (this.pages.length)) {\n        from(this.result.getPage(this.index + 1))\n          .subscribe((page: SearchResults) => {\n            this.result = page;\n            this.hasPrev = true;\n            this.pages.push(page);\n            let total = 0;\n            this.pages.forEach(p => total += p.RowCount);\n            this.hasNext = page.TotalRows > total;\n          });\n      } else {\n        this.result = this.pages[this.index];\n        let total = 0;\n        this.pages.slice(0, this.index + 1).forEach(p => total += p.RowCount);\n        this.hasNext = this.result.TotalRows > total;\n        this.hasPrev = true;\n      }\n    }\n  }\n\n  getPrev() {\n    if (this.hasPrev) {\n      this.index--;\n      this.result = this.pages[this.index];\n      this.hasNext = true;\n      this.hasPrev = this.index > 0;\n    }\n  }\n\n  getType(item: SearchResult): string {\n    const documents = ['docx', 'doc', 'xlsx', 'xls', 'pdf'];\n    if (documents.indexOf(item.FileExtension) >= 0) {\n      return 'Документы';\n    }\n    if (item.OriginalPath && item.OriginalPath.indexOf('/Lists/slNews/') > 0) {\n      return 'Новости';\n    }\n    if (item.OriginalPath && item.OriginalPath.indexOf('/Lists/slEmployees/') > 0) {\n      return 'Люди';\n    }\n    return 'Все';\n  }\n\n  getLink(item: SearchResult): string {\n    const documents = ['docx', 'doc', 'xlsx', 'xls', 'pdf'];\n    if (documents.indexOf(item.FileExtension) >= 0) {\n      return item.OriginalPath;\n    }\n    if (item.OriginalPath\n        && item.OriginalPath.indexOf('/Lists/slNews/') > 0\n        && item.OriginalPath.indexOf('?ID=') > 0) {\n      const id = item.OriginalPath.split('?ID=')[1];\n      return `${window.location.protocol}//${window.location.host}`\n        + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl}/PortalPages/home.aspx#/news/${id}`;\n    }\n    if (item.OriginalPath && item.OriginalPath.indexOf('/Lists/slEmployees/') > 0\n      && item.OriginalPath.indexOf('?ID=') > 0) {\n      const id = item.OriginalPath.split('?ID=')[1];\n      return `${window.location.protocol}//${window.location.host}`\n        + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl}/PortalPages/home.aspx#/phonebook/${id}`;\n    }\n    if (item.OriginalPath && item.OriginalPath.indexOf('/Lists/slVideos/') > 0\n      && item.OriginalPath.indexOf('?ID=') > 0) {\n      const id = item.OriginalPath.split('?ID=')[1];\n      return `${window.location.protocol}//${window.location.host}`\n        + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl}/PortalPages/home.aspx#/media/video/item/${id}`;\n    }\n    return item.OriginalPath;\n  }\n\n  formatDescription(result: SearchResult) {\n    return result.HitHighlightedSummary.replace(/c0/gi, 'strong').replace(/<ddd\\/>/gi, '&#8230;');\n  }\n\n  goToUrl(event, link: string) {\n    event.stopPropagation();\n    this.zone.run(() => {\n      if (window.location.href.indexOf('/PortalPages/') > 0\n        && link.indexOf('/PortalPages/') >= 0\n        && link.indexOf('#') >= 0) {\n        this.router.navigate([link.split('#')[1]]);\n      } else {\n        window.location.href = link;\n      }\n    });\n  }\n\n  private initSearchResults(result: SearchResults) {\n    this.pages = [];\n    this.pages.push(result);\n    this.result = result;\n    this.index = 0;\n    this.hasPrev = false;\n    this.hasNext = this.result.TotalRows > this.result.RowCount;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SearchResultsPageComponent } from './components/search-results-page/search-results-page.component';\nimport { KeywordsSearchResolver } from './services/search/keywords-search.resolver';\n\nconst routes: Routes = [\n  {\n    path: ':type/:keywords',\n    component: SearchResultsPageComponent,\n    resolve: { result: KeywordsSearchResolver},\n    data: { animation: 'fadeAnimation', title: 'Поиск' }\n  }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    providers: [KeywordsSearchResolver],\n    exports: [RouterModule]\n})\nexport class SearchRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { FormsModule } from '@angular/forms';\n\nimport { SharedModule } from '../shared/shared.module';\nimport { SearchRoutingModule } from './search-routing.module';\n\nimport { SearchResultsPageComponent } from './components/search-results-page/search-results-page.component';\n\n@NgModule({\n  declarations: [\n    SearchResultsPageComponent\n  ],\n  imports: [\n    CommonModule,\n    SearchRoutingModule,\n    SharedModule,\n    FormsModule,\n    NgSelectModule\n  ]\n})\nexport class SearchModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { SearchResults } from '@pnp/sp';\n\nimport { SearchService, SearchType } from './search.service';\n\n@Injectable()\nexport class KeywordsSearchResolver implements Resolve<SearchResults> {\n\n  constructor(private searchService: SearchService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<SearchResults> {\n    const keywords: string = route.params.keywords;\n    const type: string = route.params.type;\n    let t: SearchType;\n    if (type === 'documents') {\n      t = SearchType.Documents;\n    } else if (type === 'news') {\n      t = SearchType.News;\n    } else if (type === 'people') {\n      t = SearchType.People;\n    } else if (type === 'requests') {\n      t = SearchType.Requests;\n    } else {\n      t = SearchType.Simple;\n    }\n    return this.searchService.searchByType(t, keywords);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { sp, SearchResults, SearchQuery } from '@pnp/sp';\nimport { Observable, from } from 'rxjs';\n\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\n\nexport enum SearchType {\n  Simple = 0,\n  News,\n  Documents,\n  Requests,\n  People\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SearchService {\n\n  constructor(private sharepointService: SharepointService) { }\n\n  getListRelativePath(): string {\n    return '';\n  }\n\n  public keywordsSearch(keywords: string, rowLimit?: number): Observable<SearchResults> {\n    return from(sp.search(<SearchQuery>{\n      Querytext: keywords,\n      TrimDuplicates: true,\n      RowLimit: rowLimit || 20,\n    }));\n  }\n\n  public peopleSearch(keywords: string, rowLimit?: number): Observable<SearchResults> {\n    return from(sp.search(<SearchQuery>{\n      Querytext: keywords,\n      TrimDuplicates: true,\n      SourceId: 'B09A7990-05EA-4AF9-81EF-EDFAB16C4E31',\n      RowLimit: rowLimit || 20,\n    }));\n  }\n\n  public documentsSearch(keywords: string, rowLimit?: number): Observable<SearchResults> {\n    return from(sp.search(<SearchQuery>{\n      Querytext: keywords,\n      RefinementFilters: ['or(fileExtension:equals(\"docx\"), fileExtension:equals(\"doc\"), '\n        + 'fileExtension:equals(\"xls\"), fileExtension:equals(\"xlsx\"), fileExtension:equals(\"pdf\"))'],\n      TrimDuplicates: true,\n      RowLimit: rowLimit || 20,\n    }));\n  }\n\n  public searchByType(type: SearchType, keywords: string): Observable<SearchResults> {\n    let result: Observable<SearchResults> = null;\n    switch (type) {\n      case SearchType.News:\n        result = this.keywordsSearch(`path:${window.location.protocol}//${window.location.host}`\n            + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl}/Lists/slNews ${keywords}`);\n        break;\n      case SearchType.People:\n        result = this.keywordsSearch(`path:${window.location.protocol}//${window.location.host}`\n            + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl}/Lists/slEmployees ${keywords}`);\n        break;\n      case SearchType.Requests:\n        result = null;\n        break;\n      case SearchType.Documents:\n        result = this.documentsSearch(`path:${window.location.protocol}//${window.location.host}`\n            + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl} ${keywords}`);\n        break;\n      default:\n        result = this.keywordsSearch(`path:${window.location.protocol}//${window.location.host}`\n            + `${this.sharepointService.getCurrentUserContext().webServerRelativeUrl} ${keywords}`);\n        break;\n    }\n    return result;\n  }\n}\n"],"sourceRoot":""}