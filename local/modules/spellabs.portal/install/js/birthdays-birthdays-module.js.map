{"version":3,"sources":["webpack:///./src/app/birthdays/birthdays-routing.module.ts","webpack:///./src/app/birthdays/birthdays.module.ts","webpack:///./src/app/birthdays/components/birthdays-page/birthdays-page.component.html","webpack:///./src/app/birthdays/components/birthdays-page/birthdays-page.component.scss","webpack:///./src/app/birthdays/components/birthdays-page/birthdays-page.component.ts"],"names":[],"mappings":"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","file":"birthdays-birthdays-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BirthdaysPageComponent } from './components/birthdays-page/birthdays-page.component';\n// import { MsalGuard } from '@azure/msal-angular';\nimport { StaffModule } from '../staff/staff.module';\nimport { BirthdaysResolver } from './services/employees/birthdays.resolver';\n\nconst routes: Routes = [\n  {\n    path: ':code',\n    component: BirthdaysPageComponent,\n    resolve: { birthdays: BirthdaysResolver },\n    // canActivate : [MsalGuard],\n    data: { animation: 'fadeAnimation', title: 'Дни рождения' }\n  }\n];\n\n@NgModule({\n    imports: [ RouterModule.forChild(routes), StaffModule ],\n    providers: [ BirthdaysResolver ],\n    exports: [RouterModule]\n})\nexport class BirthdaysRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { BirthdaysPageComponent } from './components/birthdays-page/birthdays-page.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { BirthdaysRoutingModule } from './birthdays-routing.module';\n\n@NgModule({\n  declarations: [\n    BirthdaysPageComponent\n  ],\n  imports: [\n    CommonModule,\n    BirthdaysRoutingModule,\n    SharedModule,\n    FormsModule,\n    RouterModule\n  ]\n})\nexport class BirthdaysModule { }\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"['/company']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\">Дни рождения</div>\\n  </div>\\n  <div class=\\\"title\\\">Дни рождения</div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-birthdays\\\">\\n        <div class=\\\"l-birthdays__month-list\\\">\\n          <app-filters>\\n            <app-filters-item [active]=\\\"month === i ? true : false\\\" *ngFor=\\\"let item of months; let i = index\\\" (change)=\\\"getBirthdaysPagetByMonth(i)\\\">\\n              {{ item }}\\n            </app-filters-item>\\n          </app-filters>\\n        </div>\\n        <div class=\\\"l-birthdays__day-list\\\">\\n          <div class=\\\"reset\\\">Сегодня</div>\\n          <div class=\\\"day\\\" *ngFor=\\\"let day of days\\\" [class.active]=\\\"active === day\\\" (click)=\\\"active = (active === day ? null :day)\\\">\\n            {{day}}\\n          </div>\\n        </div>\\n        <div class=\\\"l-birthdays__calendar\\\">\\n          <div class=\\\"l-birthdays__day\\\" *ngFor=\\\"let item of birthdays\\\">\\n            <div class=\\\"date\\\">\\n              <div class=\\\"day\\\">{{ item.birthday }}</div>\\n              <div class=\\\"month\\\">{{ item.birthmonth }}</div>\\n            </div>\\n            <div class=\\\"employees\\\">\\n              <div class=\\\"m-employees-list\\\">\\n                <div class=\\\"m-employees-list__item\\\" *ngFor=\\\"let employee of item.employees\\\">\\n                  <div class=\\\"avatar\\\">\\n                    <app-user-thumb [width]=\\\"'90px'\\\" [height]=\\\"'90px'\\\" [photo]=\\\"employee.photo\\\" [route]=\\\"employee.profileRoute\\\"></app-user-thumb>\\n                  </div>\\n                  <div class=\\\"body\\\">\\n                    <div class=\\\"name\\\">\\n                      {{ employee.fullName }}\\n                    </div>\\n                    <div class=\\\"position\\\">{{ employee.positionName }}</div>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\\\"navigation\\\" *ngIf=\\\"hasPrev || hasNext\\\">\\n          <div class=\\\"m-page-nav\\\">\\n            <a class=\\\"to-begin\\\" (click)=\\\"hasPrev && getBirthdaysPagetByMonth()\\\" [class.disabled]=\\\"!hasPrev\\\">В начало</a>\\n            <input type=\\\"button\\\" class=\\\"prev-page\\\" (click)=\\\"getPrev()\\\" [class.disabled]=\\\"!hasPrev\\\" />\\n            <input type=\\\"button\\\" class=\\\"next-page\\\" (click)=\\\"getNext()\\\" [class.disabled]=\\\"!hasNext\\\" />\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-page-header {\\n  padding-bottom: 40px; }\\n\\n.l-birthdays {\\n  box-sizing: border-box;\\n  padding-left: 25px; }\\n\\n.l-birthdays .l-birthdays__month-list {\\n    box-sizing: border-box;\\n    margin-bottom: 20px;\\n    height: 30px;\\n    text-transform: capitalize; }\\n\\n.l-birthdays .l-birthdays__day-list {\\n    margin-bottom: 60px; }\\n\\n.l-birthdays .l-birthdays__day-list .reset {\\n      display: inline-block;\\n      font-size: 16px;\\n      color: #898888;\\n      margin-right: 30px;\\n      cursor: pointer; }\\n\\n.l-birthdays .l-birthdays__day-list .day {\\n      display: inline-block;\\n      width: 24px;\\n      height: 24px;\\n      border: 1px solid #898888;\\n      border-radius: 100%;\\n      margin-right: 20px;\\n      margin-bottom: 10px;\\n      font-size: 14px;\\n      color: #707070;\\n      line-height: 24px;\\n      text-align: center;\\n      cursor: pointer; }\\n\\n.l-birthdays .l-birthdays__day-list .day.active {\\n        color: #050505;\\n        border-color: #da402b; }\\n\\n.l-birthdays .l-birthdays__calendar {\\n    border-left: 2px solid #F1F1F4; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day {\\n      box-sizing: border-box;\\n      padding-left: 10%;\\n      position: relative;\\n      border-top: 3px dotted #707070; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day .date {\\n        position: absolute;\\n        left: -27px;\\n        top: -27px; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day .date .day,\\n        .l-birthdays .l-birthdays__calendar .l-birthdays__day .date .month {\\n          display: inline-block;\\n          vertical-align: middle; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day .day {\\n        background-color: #F1F1F4;\\n        border-radius: 100%;\\n        width: 50px;\\n        height: 50px;\\n        line-height: 50px;\\n        color: #050505;\\n        font-size: 20px;\\n        font-weight: 900;\\n        box-sizing: border-box;\\n        text-align: center; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day .month {\\n        color: #707070;\\n        font-size: 16px;\\n        padding-right: 15px;\\n        box-sizing: border-box;\\n        padding-left: 12px;\\n        background-color: #fff;\\n        text-transform: capitalize; }\\n\\n.l-birthdays .l-birthdays__calendar .l-birthdays__day:first-of-type {\\n        border-top: 0; }\\n\\n.navigation {\\n  margin: 35px 0;\\n  text-align: center; }\\n\\n.m-employees-list .m-employees-list__item {\\n  display: table;\\n  width: 100%; }\\n\\n.m-employees-list .m-employees-list__item .avatar {\\n    display: table-cell;\\n    padding-right: 23px;\\n    padding-left: 34px;\\n    padding-bottom: 14px;\\n    padding-top: 14px;\\n    box-sizing: border-box;\\n    vertical-align: middle;\\n    width: 90px; }\\n\\n.m-employees-list .m-employees-list__item .body {\\n    vertical-align: middle;\\n    display: table-cell; }\\n\\n.m-employees-list .m-employees-list__item .body .name {\\n      color: #050505;\\n      font-size: 22px;\\n      line-height: 24px;\\n      font-weight: bold;\\n      margin-bottom: 10px; }\\n\\n.m-employees-list .m-employees-list__item .body .position {\\n      color: #050505;\\n      font-size: 16px;\\n      line-height: 20px; }\\n\\n.m-employees-list .m-employees-list__item .controls {\\n    display: none;\\n    vertical-align: middle;\\n    box-sizing: border-box;\\n    padding-left: 25px;\\n    vertical-align: middle; }\\n\\n.m-employees-list .m-employees-list__item .controls .profile,\\n    .m-employees-list .m-employees-list__item .controls .mail,\\n    .m-employees-list .m-employees-list__item .controls .structure {\\n      display: inline-block;\\n      border-radius: 100%;\\n      background-color: #FFFFFF;\\n      width: 50px;\\n      height: 50px;\\n      margin-right: 25px;\\n      background-position: center;\\n      background-repeat: no-repeat;\\n      background-size: 26px 26px; }\\n\\n.m-employees-list .m-employees-list__item .controls .profile {\\n      background-image: url(\\\"/assets/icons/icon-profile.svg\\\"); }\\n\\n.m-employees-list .m-employees-list__item .controls .mail {\\n      background-image: url(\\\"/assets/icons/icon-letter-black.svg\\\"); }\\n\\n.m-employees-list .m-employees-list__item .controls .structure {\\n      background-image: url(\\\"/assets/icons/icon-struct-black.svg\\\"); }\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport * as moment from 'moment';\nimport * as _ from 'lodash';\n\nimport { SidebarService } from 'src/app/services/sidebar/sidebar.service';\nimport { IListItemsPage } from 'src/app/services/list-items-service';\n\nimport { Employee } from 'src/app/staff/services/employees/employee';\nimport { EmployeesFactory } from 'src/app/staff/services/employees/employees.factory';\n\nexport interface Birthday {\n  birthday: string;\n  birthmonth: string;\n  employees: Employee[];\n}\n\n@Component({\n  selector: 'app-birthdays-page',\n  templateUrl: './birthdays-page.component.html',\n  styleUrls: ['./birthdays-page.component.scss']\n})\nexport class BirthdaysPageComponent implements OnInit {\n  private pages: IListItemsPage<Employee>[] = [];\n  private index = 0;\n  public employees: Employee[] = [];\n  public birthdays: Birthday[] = [];\n  public hasPrev = false;\n  public hasNext = false;\n  public month: number;\n  public months: string[];\n  public days = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30];\n\n  constructor(\n    private route: ActivatedRoute,\n    @Inject('EmployeesFactory') private employeesFactory: EmployeesFactory,\n    private sidebarService: SidebarService\n  ) {\n    this.months = Array.apply(0, Array(12)).map((v, i: number) => moment().month(i).format('MMMM'));\n    this.sidebarService.handleSetSettings({showSidebar: false, bgColor: '#fff'});\n    this.month = new Date().getMonth();\n  }\n\n  ngOnInit() {\n    this.pages.push(this.route.snapshot.data.birthdays);\n    this.employees = this.route.snapshot.data.birthdays.items;\n    this.birthdays = this.getBirthdaysForEmployees(this.employees);\n    this.hasNext = this.route.snapshot.data.birthdays.hasNext;\n  }\n\n  public getBirthdaysPagetByMonth(month?: number) {\n    this.month = month == null ? this.month : month ;\n    this.index = 0;\n    this.employees = [];\n    this.pages = [];\n    this.birthdays = [];\n    this.hasPrev = false;\n    this.hasNext = false;\n    this.employeesFactory.getPagedByMonthBirthday(this.month + 1)\n      .subscribe((page: IListItemsPage<Employee>) => {\n        this.employees = page.items;\n        this.birthdays = this.getBirthdaysForEmployees(this.employees);\n        this.hasNext = page.hasNext;\n        this.pages.push(page);\n      });\n  }\n\n  public getNext(): void {\n    if (this.hasNext) {\n      if (this.index === (this.pages.length - 1)) {\n        this.pages[this.index].getNext()\n          .subscribe((page: IListItemsPage<Employee>) => {\n            this.index++;\n            this.employees = page.items;\n            this.birthdays = this.getBirthdaysForEmployees(page.items);\n            this.hasNext = page.hasNext;\n            this.hasPrev = true;\n            this.pages.push(page);\n          });\n      } else {\n        this.index++;\n        this.employees = this.pages[this.index].items;\n        this.birthdays = this.getBirthdaysForEmployees(this.employees);\n        this.hasNext = this.pages[this.index].hasNext;\n        this.hasPrev = true;\n      }\n    }\n  }\n\n  public getPrev(): void {\n    if (this.hasPrev) {\n      this.index--;\n      this.employees = this.pages[this.index].items;\n      this.birthdays = this.getBirthdaysForEmployees(this.employees);\n      this.hasNext = true;\n      this.hasPrev = this.index > 0;\n    }\n  }\n\n  private getBirthdaysForEmployees(employees: Employee[]): Birthday[] {\n    const birthdays: Birthday[] = [];\n    const grouped = _.groupBy(employees, (employee: Employee) => employee.birthdayTitleRelative);\n    for (const group in grouped) {\n      if (grouped.hasOwnProperty(group)) {\n        const dates: string[] = group.split(' ');\n        if (dates.length === 2) {\n          birthdays.push({ birthday: dates[0], birthmonth: dates[1], employees: grouped[group] });\n        }\n      }\n    }\n    return birthdays;\n  }\n}\n"],"sourceRoot":""}