{"version":3,"sources":["webpack:///./src/app/constants/content-types.ts","webpack:///./src/app/photogallery/components/photoalbum-page/photoalbum-page.component.html","webpack:///./src/app/photogallery/components/photoalbum-page/photoalbum-page.component.scss","webpack:///./src/app/photogallery/components/photoalbum-page/photoalbum-page.component.ts","webpack:///./src/app/photogallery/components/photogallery-page/photogallery-page.component.html","webpack:///./src/app/photogallery/components/photogallery-page/photogallery-page.component.scss","webpack:///./src/app/photogallery/components/photogallery-page/photogallery-page.component.ts","webpack:///./src/app/photogallery/photogallery-routing.module.ts","webpack:///./src/app/photogallery/photogallery.module.ts","webpack:///./src/app/services/photo-library/photo-album.resolver.ts","webpack:///./src/app/services/photo-library/photo-albums.resolver.ts","webpack:///./src/app/services/photo-library/photo-library.service.ts","webpack:///./src/app/services/photo-library/photos.resolver.ts"],"names":[],"mappings":"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","file":"photogallery-photogallery-module.js","sourcesContent":["export const contentTypes = {\n  album: 'Контентный тип альбома изображений',\n  photo: 'Контентный тип фото'\n};\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"companyId ? ['/enterprise/' + companyId] : ['/']\\\">Главная</a></div>\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"currentSlide ? ['../../../'] : ['../../']\\\">Медиагалерея</a></div>\\n    <div class=\\\"l-breadcrumb\\\"><a [routerLink]=\\\"currentSlide ? ['../../'] : ['../']\\\">Фотогалерея</a></div>\\n    <div class=\\\"l-breadcrumb\\\">{{ album.title }}</div>\\n  </div>\\n  <div class=\\\"title\\\">{{ album.title }}</div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-photo-album\\\" *ngIf=\\\"photos\\\">\\n        <ngsl-gallery #ngslGallery=\\\"ngsl-gallery\\\" [currentSlide]=\\\"currentSlide\\\" [isVisibleGallery]=\\\"currentSlide != null\\\" class=\\\"l-photo-album__list\\\">\\n          <a *ngFor=\\\"let item of photos; let i = index\\\" id=\\\"i\\\" class=\\\"l-photo-album__item\\\" title=\\\"{{ getFileNameAndExtension(item.url).full }}\\\"\\n            (click)=\\\"ngslGallery.handleToggleGallery(i, $event)\\\">\\n            <div class=\\\"m-photo-album-card\\\">\\n              <div class=\\\"photo\\\" [ngStyle]=\\\"{ 'background-image': 'url(' + prepareLink(item.url) + ')' }\\\">\\n                <div class=\\\"controls\\\">\\n                  <div class=\\\"control\\\">\\n                    <a href=\\\"{{item.url}}\\\" download class=\\\"btn btn-download\\\" (click)=\\\"$event.stopPropagation()\\\">\\n                      Скачать\\n                      <span>{{ getFileNameAndExtension(item.url).ext }}</span>\\n                      <i></i>\\n                    </a>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n            <div class=\\\"m-albom-popup\\\" *ngslGalleryItem>\\n              <div class=\\\"m-albom-popup-card\\\">\\n                <div class=\\\"content\\\">\\n                  <div class=\\\"photo\\\" [ngStyle]=\\\"{ 'background-image': 'url(' + prepareLink(item.url) + ')' }\\\">\\n                    <div class=\\\"controls\\\">\\n                      <div class=\\\"control\\\">\\n                        <a href=\\\"{{item.url}}\\\" download class=\\\"btn btn-download\\\" (click)=\\\"$event.stopPropagation()\\\">\\n                          Скачать\\n                          <span>{{ getFileNameAndExtension(item.url).ext }}</span>\\n                          <i></i>\\n                        </a>\\n                      </div>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\\\"title\\\">{{ getFileNameAndExtension(item.url).name }}</div>\\n              </div>\\n            </div>\\n          </a>\\n        </ngsl-gallery>\\n        <div class=\\\"l-photo-album__return\\\">\\n          <a [routerLink]=\\\"['../']\\\" class=\\\"btn btn-to-back\\\">\\n            К списку альбомов\\n            <i></i>\\n          </a>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-photo-album {\\n  max-width: 90%;\\n  margin: 0 auto; }\\n\\n.l-photo-album__list {\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-direction: row;\\n      flex-direction: row;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -ms-flex-pack: start;\\n      justify-content: start;\\n  margin: 0 -15px; }\\n\\n.l-photo-album__item {\\n  -ms-flex-preferred-size: 340px;\\n      flex-basis: 340px;\\n  padding: 0 15px;\\n  box-sizing: content-box;\\n  margin-bottom: 20px;\\n  cursor: pointer; }\\n\\n@media screen and (max-width: 1440px) {\\n    .l-photo-album__item {\\n      -ms-flex-preferred-size: 300px;\\n          flex-basis: 300px; } }\\n\\n.l-photo-album__item.image-view .m-albom-popup {\\n    display: block; }\\n\\n.m-albom-popup {\\n  height: 100%; }\\n\\n.m-photo-album-card {\\n  position: relative; }\\n\\n.m-photo-album-card .photo {\\n    height: 225px;\\n    position: relative;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: cover;\\n    overflow: hidden; }\\n\\n.m-photo-album-card .photo:hover .controls {\\n      bottom: 0; }\\n\\n.m-photo-album-card .photo .controls {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      bottom: -135px;\\n      transition: bottom 0.3s;\\n      padding: 15px 20px;\\n      box-sizing: border-box;\\n      height: 135px;\\n      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.01) 0%, rgba(88, 88, 88, 0.8) 100%);\\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#03000000', endColorstr='#cc585858', GradientType=0); }\\n\\n.m-photo-album-card .photo .controls .control {\\n        position: absolute;\\n        right: 20px;\\n        bottom: 15px; }\\n\\n.m-photo-album-card .photo .controls .control .btn-download {\\n          z-index: 100; }\\n\\n.m-photo-album-card .photo .controls .control .btn-download span {\\n            text-transform: uppercase;\\n            font-weight: 400; }\\n\\n.m-albom-popup-card {\\n  position: relative; }\\n\\n.m-albom-popup-card:before {\\n    display: block;\\n    content: \\\" \\\";\\n    width: 100%;\\n    padding-bottom: 71.42857143%; }\\n\\n.m-albom-popup-card > .content {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0; }\\n\\n.m-albom-popup-card .content {\\n    padding: 15px;\\n    box-sizing: border-box;\\n    background-color: #fff; }\\n\\n.m-albom-popup-card .title {\\n    font-size: 14px;\\n    color: #fff;\\n    font-weight: 600;\\n    position: absolute;\\n    z-index: 10;\\n    bottom: -50px;\\n    height: 35px;\\n    line-height: 35px;\\n    display: inline-block;\\n    background-color: #000;\\n    padding: 0 15px;\\n    border-radius: 15px;\\n    left: 50%;\\n    -webkit-transform: translateX(-50%);\\n        -ms-transform: translateX(-50%);\\n            transform: translateX(-50%); }\\n\\n.m-albom-popup-card .photo {\\n    height: 100%;\\n    background-size: cover;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n    position: relative; }\\n\\n.m-albom-popup-card .photo .controls {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      bottom: 0;\\n      transition: bottom 0.3s;\\n      padding: 15px 20px;\\n      box-sizing: border-box;\\n      height: 135px;\\n      background: linear-gradient(to bottom, rgba(0, 0, 0, 0.01) 0%, rgba(46, 46, 46, 0.8) 100%);\\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#03000000', endColorstr='#cc585858', GradientType=0); }\\n\\n.m-albom-popup-card .photo .controls .control {\\n        position: absolute;\\n        right: 20px;\\n        bottom: 15px; }\\n\\n.m-albom-popup-card .photo .controls .control .btn-download {\\n          z-index: 100; }\\n\\n.m-albom-popup-card .photo .controls .control .btn-download span {\\n            text-transform: uppercase;\\n            font-weight: 400; }\\n\"","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { PhotoLibrary } from 'src/app/services/photo-library/photo-library';\nimport { ImagesService } from 'src/app/services/images/images.service';\n\n@Component({\n  selector: 'app-photoalbum-page',\n  templateUrl: './photoalbum-page.component.html',\n  styleUrls: ['./photoalbum-page.component.scss']\n})\nexport class PhotoalbumPageComponent implements OnInit, OnDestroy {\n  public photos: PhotoLibrary[] = null;\n  public album: PhotoLibrary = null;\n  public showSidebar: Boolean = false;\n  public currentSlide: number = null;\n  public companyId: number = null;\n\n  private sub: any = null;\n\n  @ViewChild('ngslGallery') ngslGallery;\n\n  constructor(private route: ActivatedRoute,\n    private imagesService: ImagesService) {}\n\n  public getFileNameAndExtension(path) {\n    const str = path\n      .split('\\\\')\n      .pop()\n      .split('/')\n      .pop();\n    const ext = str.substr((Math.max(0, str.lastIndexOf('.')) || Infinity) + 1);\n    const name = str.replace('.' + ext, '');\n    return {\n      ext,\n      name,\n      full: `${name}.${ext}`\n    };\n  }\n\n  ngOnInit() {\n    this.photos = this.route.snapshot.data.photos.sort((n1: PhotoLibrary, n2: PhotoLibrary) => {\n        if (n1.photoIndex > n2.photoIndex) {\n            return 1;\n        }\n        if (n1.photoIndex < n2.photoIndex) {\n            return -1;\n        }\n        return 0;\n    });\n\n    this.album = this.route.snapshot.data.album;\n    // this.sub = this.route.params.subscribe(params => {\n    //   if (params.pic) {\n    //     this.photos.forEach(value => {\n    //       if (value.id === +params.pic) {\n    //         this.currentSlide = this.photos.indexOf(value);\n    //       }\n    //     });\n    //   }\n    // });\n    this.sub = this.route.parent.params.subscribe(params => {\n      if (params.id) {\n        this.companyId = params.id;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  public prepareLink(link: string) {\n    return this.imagesService.prepareBackgroundUrl(link);\n  }\n}\n","module.exports = \"<div class=\\\"l-page-header\\\">\\n  <div class=\\\"l-breadcrumbs\\\">\\n    <div class=\\\"l-breadcrumb\\\">\\n      <a [routerLink]=\\\"companyId ? ['/enterprise/' + companyId] : ['/']\\\"\\n        >Главная</a\\n      >\\n    </div>\\n    <div class=\\\"l-breadcrumb\\\">\\n      <a [routerLink]=\\\"webId ? ['../../../../../'] : ['../../']\\\"\\n        >Медиагалерея</a\\n      >\\n    </div>\\n    <div class=\\\"l-breadcrumb\\\">Фотогалерея</div>\\n  </div>\\n  <div class=\\\"title\\\">Фотогалерея</div>\\n</div>\\n<div class=\\\"l-page\\\">\\n  <div class=\\\"l-page-inner\\\">\\n    <div class=\\\"l-page__content\\\">\\n      <div class=\\\"l-photo-gallery\\\">\\n        <div class=\\\"l-photo-gallery__list\\\">\\n          <div class=\\\"l-photo-gallery__item\\\" *ngFor=\\\"let item of albums\\\">\\n            <div class=\\\"card\\\">\\n              <div class=\\\"admin-controls\\\">\\n                <app-admin-controls\\n                  [item]=\\\"item\\\"\\n                  (create)=\\\"create()\\\"\\n                  (edit)=\\\"edit($event)\\\"\\n                  (remove)=\\\"remove($event)\\\"\\n                >\\n                </app-admin-controls>\\n              </div>\\n              <div class=\\\"photo\\\">\\n                <div\\n                  class=\\\"content\\\"\\n                  [routerLink]=\\\"[item.id]\\\"\\n                  [ngStyle]=\\\"{\\n                    'background-image': 'url(' + item.albumCover + ')'\\n                  }\\\"\\n                ></div>\\n              </div>\\n              <a class=\\\"title\\\">{{ item.title }}</a>\\n              <div class=\\\"description\\\" *ngIf=\\\"item.albumDescription\\\">\\n                {{ item.albumDescription }}\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","module.exports = \"#s4-bodyContainer {\\n  padding: 0; }\\n\\n@-webkit-keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n@keyframes shine-avatar {\\n  0% {\\n    background-position: -30px; }\\n  40%,\\n  100% {\\n    background-position: 210px; } }\\n\\n.l-photo-gallery {\\n  max-width: 90%;\\n  margin: 0 auto; }\\n\\n.l-photo-gallery__list {\\n  margin: 0 -15px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  text-align: left;\\n  -ms-flex-direction: row;\\n      flex-direction: row; }\\n\\n.l-photo-gallery__item {\\n  padding: 0 15px;\\n  -ms-flex-preferred-size: 340px;\\n      flex-basis: 340px;\\n  margin-bottom: 40px; }\\n\\n@media screen and (max-width: 1440px) {\\n    .l-photo-gallery__item {\\n      -ms-flex-preferred-size: 300px;\\n          flex-basis: 300px; } }\\n\\n.card {\\n  height: 100%;\\n  position: relative; }\\n\\n.card:hover .admin-controls {\\n    display: block; }\\n\\n.card .photo {\\n    margin-bottom: 15px;\\n    background-color: #e4e4e4;\\n    cursor: pointer;\\n    position: relative; }\\n\\n.card .photo:before {\\n      display: block;\\n      content: \\\" \\\";\\n      width: 100%;\\n      padding-bottom: 66.66666667%; }\\n\\n.card .photo > .content {\\n      position: absolute;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      bottom: 0; }\\n\\n.card .photo .content {\\n      background-repeat: no-repeat;\\n      background-position: center;\\n      background-size: cover; }\\n\\n.card .title {\\n    display: block;\\n    display: -webkit-box;\\n    display: block;\\n    text-overflow: ellipsis;\\n    -webkit-line-clamp: 2;\\n    overflow: hidden;\\n    max-height: 50px;\\n    text-decoration: none;\\n    font-size: 22px;\\n    line-height: 25px;\\n    color: #000;\\n    margin-bottom: 15px; }\\n\\n.card .description {\\n    display: block;\\n    display: -webkit-box;\\n    display: block;\\n    text-overflow: ellipsis;\\n    -webkit-line-clamp: 3;\\n    overflow: hidden;\\n    max-height: 60px;\\n    font-size: 14px;\\n    color: #636363;\\n    line-height: 20px; }\\n\\n.admin-controls {\\n  display: none; }\\n\"","import { Component, OnInit, Inject, OnDestroy } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CookieService } from 'ngx-cookie-service';\n\nimport { IListItemsPage } from 'src/app/services/list-items-service';\nimport { PhotoLibrary } from 'src/app/services/photo-library/photo-library';\nimport { SharepointService } from 'src/app/services/sharepoint/sharepoint.service';\nimport { PhotoLibraryService } from 'src/app/services/photo-library/photo-library.service';\nimport { contentTypes } from 'src/app/constants/content-types';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-photogallery-page',\n  templateUrl: './photogallery-page.component.html',\n  styleUrls: ['./photogallery-page.component.scss']\n})\nexport class PhotogalleryPageComponent implements OnInit, OnDestroy {\n\n  public page: IListItemsPage<PhotoLibrary> = null;\n  public albums: PhotoLibrary[] = [];\n  public showSidebar: Boolean = false;\n  public webId: string = null;\n  public subscription: Subscription = null;\n  public companyId: number = null;\n\n  private s4 = null;\n  private isLoadingItems: Boolean = false;\n\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    private route: ActivatedRoute,\n    private sharepointService: SharepointService,\n    private photoLibraryService: PhotoLibraryService,\n    private cookieService: CookieService\n  ) {}\n\n  loadMore() {\n    this.isLoadingItems = true;\n    this.page.getNext().subscribe((page: IListItemsPage<PhotoLibrary>) => {\n      this.page = page;\n      this.albums = this.albums.concat(this.page.items);\n      this.isLoadingItems = false;\n    });\n  }\n\n  load() {\n    this.photoLibraryService.getItemsPaged({ filter: `ContentType eq '${contentTypes.album}'`,\n      top: 8, orderBy: [['slAlbumIndex', true]] })\n      .subscribe((page: IListItemsPage<PhotoLibrary>) => {\n        this.page = page;\n        this.albums = page.items;\n        this.isLoadingItems = false;\n        document.getElementById('s4-workspace').scrollTop = 0;\n      });\n  }\n\n  onWorkSpaceScroll() {\n    if (\n      this.s4.scrollTop >=\n      this.s4.scrollHeight - (this.s4.clientHeight + 100)\n    ) {\n      if (this.page.hasNext && !this.isLoadingItems) {\n        this.loadMore();\n      }\n    }\n  }\n\n  ngOnInit() {\n    this.subscription = this.route.params.subscribe(params => {\n      if (params.webId) {\n        this.webId = params.webId;\n      }\n    });\n    this.s4 = this.document.getElementById('s4-workspace');\n    this.s4.addEventListener('scroll', this.onWorkSpaceScroll.bind(this), true);\n    this.page = this.route.snapshot.data.albums;\n    this.albums = this.page.items;\n    this.subscription = this.route.parent.params.subscribe(params => {\n      if (params.id) {\n        this.companyId = params.id;\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.s4.removeEventListener('scroll', this.onWorkSpaceScroll.bind(this), true);\n  }\n\n  create() {\n    this.cookieService.set('splnu', '0', 1, '/');\n    window.location.href = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n      + `/slPhotoLibrary/Forms/Upload.aspx?ContentTypeId=0x012000BFB863A2672645ABBEA198EF8334172D&Source=`\n      + encodeURIComponent(window.location.href);\n  }\n\n  edit(item: any) {\n    this.cookieService.set('splnu', '0', 1, '/');\n    window.location.href = this.sharepointService.getCurrentUserContext().webServerRelativeUrl\n      + `/slPhotoLibrary/Forms/EditForm.aspx?ID=${item.id}&Source=`\n      + encodeURIComponent(window.location.href);\n  }\n\n  remove(item: any) {\n    this.photoLibraryService.recycleItem(item)\n      .subscribe(() => this.load());\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PhotogalleryPageComponent } from './components/photogallery-page/photogallery-page.component';\nimport { PhotoalbumPageComponent } from './components/photoalbum-page/photoalbum-page.component';\n\nimport { PhotoAlbumsResolver } from 'src/app/services/photo-library/photo-albums.resolver';\nimport { PhotosResolver } from 'src/app/services/photo-library/photos.resolver';\nimport { PhotoAlbumResolver } from 'src/app/services/photo-library/photo-album.resolver';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PhotogalleryPageComponent,\n    resolve: { albums: PhotoAlbumsResolver },\n    data: { animation: 'fadeAnimation', title: 'Альбомы' }\n  },\n  {\n    path: ':id',\n    component: PhotoalbumPageComponent,\n    resolve: { photos: PhotosResolver, album: PhotoAlbumResolver },\n    data: { animation: 'fadeAnimation', title: 'Альбом' }\n  },\n  {\n    path: ':id/:pic',\n    component: PhotoalbumPageComponent,\n    resolve: { photos: PhotosResolver, album: PhotoAlbumResolver },\n    data: { animation: 'fadeAnimation', title: 'Альбом' }\n  }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    providers: [PhotosResolver, PhotoAlbumResolver, PhotoAlbumsResolver],\n    exports: [RouterModule]\n})\nexport class PhotogalleryRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PhotogalleryRoutingModule } from './photogallery-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\nimport { PhotoalbumPageComponent } from './components/photoalbum-page/photoalbum-page.component';\nimport { PhotogalleryPageComponent } from './components/photogallery-page/photogallery-page.component';\n\n@NgModule({\n  declarations: [\n    PhotoalbumPageComponent,\n    PhotogalleryPageComponent\n  ],\n  imports: [\n    CommonModule,\n    PhotogalleryRoutingModule,\n    SharedModule\n  ]\n})\nexport class PhotogalleryModule { }\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { PhotoLibraryService } from './photo-library.service';\nimport { PhotoLibrary } from './photo-library';\n\n\n@Injectable()\nexport class PhotoAlbumResolver implements Resolve<PhotoLibrary> {\n\n  constructor(private photoLibraryService: PhotoLibraryService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<PhotoLibrary> {\n    const id: number = route.params.id;\n    const webId = route.params.webId;\n    return this.photoLibraryService.getItem({id: id, webId: webId});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { IListItemsPage } from '../list-items-service';\nimport { PhotoLibraryService } from './photo-library.service';\nimport { PhotoLibrary } from './photo-library';\nimport { contentTypes } from 'src/app/constants/content-types';\n\n@Injectable()\nexport class PhotoAlbumsResolver implements Resolve<IListItemsPage<PhotoLibrary>> {\n\n  constructor(private photoLibraryService: PhotoLibraryService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IListItemsPage<PhotoLibrary>> {\n    const webId = route.params.webId;\n    return this.photoLibraryService.getItemsPaged({ filter: `ContentType eq '${encodeURI(contentTypes.album)}'`,\n    top: 8, orderBy: [['slAlbumIndex', true]], webId: webId});\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ICachingOptions } from '@pnp/odata';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Web } from '@pnp/sp';\nimport { flatMap, map } from 'rxjs/operators';\nimport * as moment from 'moment';\n\nimport { SharepointService } from '../sharepoint/sharepoint.service';\nimport { ListItemsService } from '../list-items-service';\nimport { PhotoLibrary } from './photo-library';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PhotoLibraryService extends ListItemsService<PhotoLibrary>  {\n\n  constructor(private http: HttpClient,\n    private sharepointService: SharepointService) {\n    super();\n  }\n\n  getCachingOptions(): ICachingOptions {\n    return {\n      expiration: moment().add(30, 'minutes').toDate(),\n      key: this.getListTitle(),\n      storeName: 'session'\n    };\n  }\n\n  getListTitle(): string {\n    return 'Библиотека фотогалереи';\n  }\n\n  getListRelativePath(): string {\n    return 'slPhotoLibrary';\n  }\n\n  getSelect(): string {\n    return 'Id,Title,slAlbumCover,slAlbumDescription,slAlbumIndex,slPhotoIndex,File/ServerRelativeUrl,ContentType,ContentTypeId,Created';\n  }\n\n  getExpand(): string {\n    return 'File';\n  }\n\n  getOrderBy(): [string, boolean][] {\n    return [['Created', false]];\n  }\n\n  getTop(): number {\n    return 15;\n  }\n\n  convertListItemToEntity(item: any): PhotoLibrary {\n    const entity: PhotoLibrary = {\n      id: item.Id,\n      title: item.Title,\n      albumCover: item.slAlbumCover,\n      albumDescription: item.slAlbumDescription,\n      albumIndex: item.slAlbumIndex,\n      photoIndex: item.slPhotoIndex,\n      url: item.File && item.File.ServerRelativeUrl\n    };\n    return entity;\n  }\n\n  convertEntityToListItem(entity: PhotoLibrary) {\n    throw new Error('Method not implemented.');\n  }\n\n  getMockItems(): PhotoLibrary[] {\n    return [];\n  }\n\n  isMock(): boolean {\n    return false;\n  }\n\n  getFiles(id: number, webId?: string): Observable<PhotoLibrary[]> {\n    return this.getWebById(webId).pipe(\n        map((web: Web) => web.lists.getByTitle(this.getListTitle()).items.getById(id).folder.files.toUrlAndQuery()),\n        // flatMap((url: string) => this.http.get(`${this.sharepointService.getRelativeUrl()}/${url}?$expand=ListItemAllFields`)),\n        flatMap((url: string) => url.indexOf('://') > 0 ? this.http.get(`${url}?$expand=ListItemAllFields`)\n          : this.http.get(`${this.sharepointService.getRelativeUrl()}/${url}?$expand=ListItemAllFields`)),\n        map((item: any) => item.value.map(i => {\n          const entity = this.convertListItemToEntity(i.ListItemAllFields);\n          entity.url = i.ServerRelativeUrl;\n          return entity;\n        })));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs';\n\nimport { PhotoLibraryService } from './photo-library.service';\nimport { PhotoLibrary } from './photo-library';\n\n\n@Injectable()\nexport class PhotosResolver implements Resolve<PhotoLibrary[]> {\n\n  constructor(private photoLibraryService: PhotoLibraryService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<PhotoLibrary[]> {\n    const id: number = route.params.id;\n    const webId = route.params.webId;\n    return this.photoLibraryService.getFiles(id, webId);\n  }\n}\n"],"sourceRoot":""}